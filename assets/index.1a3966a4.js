(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function G0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ee={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ys=Symbol.for("react.element"),K0=Symbol.for("react.portal"),Q0=Symbol.for("react.fragment"),Y0=Symbol.for("react.strict_mode"),q0=Symbol.for("react.profiler"),X0=Symbol.for("react.provider"),J0=Symbol.for("react.context"),Z0=Symbol.for("react.forward_ref"),ev=Symbol.for("react.suspense"),tv=Symbol.for("react.memo"),nv=Symbol.for("react.lazy"),Ad=Symbol.iterator;function rv(e){return e===null||typeof e!="object"?null:(e=Ad&&e[Ad]||e["@@iterator"],typeof e=="function"?e:null)}var Qp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yp=Object.assign,qp={};function Wr(e,t,n){this.props=e,this.context=t,this.refs=qp,this.updater=n||Qp}Wr.prototype.isReactComponent={};Wr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xp(){}Xp.prototype=Wr.prototype;function Tc(e,t,n){this.props=e,this.context=t,this.refs=qp,this.updater=n||Qp}var Ic=Tc.prototype=new Xp;Ic.constructor=Tc;Yp(Ic,Wr.prototype);Ic.isPureReactComponent=!0;var Dd=Array.isArray,Jp=Object.prototype.hasOwnProperty,kc={current:null},Zp={key:!0,ref:!0,__self:!0,__source:!0};function eg(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Jp.call(t,r)&&!Zp.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),a=0;a<l;a++)u[a]=arguments[a+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ys,type:e,key:s,ref:o,props:i,_owner:kc.current}}function iv(e,t){return{$$typeof:ys,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Nc(e){return typeof e=="object"&&e!==null&&e.$$typeof===ys}function sv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ld=/\/+/g;function lu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sv(""+e.key):t.toString(36)}function uo(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ys:case K0:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+lu(o,0):r,Dd(i)?(n="",e!=null&&(n=e.replace(Ld,"$&/")+"/"),uo(i,t,n,"",function(a){return a})):i!=null&&(Nc(i)&&(i=iv(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ld,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Dd(e))for(var l=0;l<e.length;l++){s=e[l];var u=r+lu(s,l);o+=uo(s,t,n,u,i)}else if(u=rv(e),typeof u=="function")for(e=u.call(e),l=0;!(s=e.next()).done;)s=s.value,u=r+lu(s,l++),o+=uo(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Bs(e,t,n){if(e==null)return e;var r=[],i=0;return uo(e,r,"","",function(s){return t.call(n,s,i++)}),r}function ov(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ue={current:null},ao={transition:null},lv={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:ao,ReactCurrentOwner:kc};U.Children={map:Bs,forEach:function(e,t,n){Bs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Bs(e,function(){t++}),t},toArray:function(e){return Bs(e,function(t){return t})||[]},only:function(e){if(!Nc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};U.Component=Wr;U.Fragment=Q0;U.Profiler=q0;U.PureComponent=Tc;U.StrictMode=Y0;U.Suspense=ev;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lv;U.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Yp({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=kc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)Jp.call(t,u)&&!Zp.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var a=0;a<u;a++)l[a]=arguments[a+2];r.children=l}return{$$typeof:ys,type:e.type,key:i,ref:s,props:r,_owner:o}};U.createContext=function(e){return e={$$typeof:J0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:X0,_context:e},e.Consumer=e};U.createElement=eg;U.createFactory=function(e){var t=eg.bind(null,e);return t.type=e,t};U.createRef=function(){return{current:null}};U.forwardRef=function(e){return{$$typeof:Z0,render:e}};U.isValidElement=Nc;U.lazy=function(e){return{$$typeof:nv,_payload:{_status:-1,_result:e},_init:ov}};U.memo=function(e,t){return{$$typeof:tv,type:e,compare:t===void 0?null:t}};U.startTransition=function(e){var t=ao.transition;ao.transition={};try{e()}finally{ao.transition=t}};U.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};U.useCallback=function(e,t){return Ue.current.useCallback(e,t)};U.useContext=function(e){return Ue.current.useContext(e)};U.useDebugValue=function(){};U.useDeferredValue=function(e){return Ue.current.useDeferredValue(e)};U.useEffect=function(e,t){return Ue.current.useEffect(e,t)};U.useId=function(){return Ue.current.useId()};U.useImperativeHandle=function(e,t,n){return Ue.current.useImperativeHandle(e,t,n)};U.useInsertionEffect=function(e,t){return Ue.current.useInsertionEffect(e,t)};U.useLayoutEffect=function(e,t){return Ue.current.useLayoutEffect(e,t)};U.useMemo=function(e,t){return Ue.current.useMemo(e,t)};U.useReducer=function(e,t,n){return Ue.current.useReducer(e,t,n)};U.useRef=function(e){return Ue.current.useRef(e)};U.useState=function(e){return Ue.current.useState(e)};U.useSyncExternalStore=function(e,t,n){return Ue.current.useSyncExternalStore(e,t,n)};U.useTransition=function(){return Ue.current.useTransition()};U.version="18.2.0";(function(e){e.exports=U})(ee);const uv=G0(ee.exports);var Zu={},tg={exports:{}},nt={},ng={exports:{}},rg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,L){var O=I.length;I.push(L);e:for(;0<O;){var oe=O-1>>>1,fe=I[oe];if(0<i(fe,L))I[oe]=L,I[O]=fe,O=oe;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var L=I[0],O=I.pop();if(O!==L){I[0]=O;e:for(var oe=0,fe=I.length,Us=fe>>>1;oe<Us;){var Nn=2*(oe+1)-1,ou=I[Nn],xn=Nn+1,zs=I[xn];if(0>i(ou,O))xn<fe&&0>i(zs,ou)?(I[oe]=zs,I[xn]=O,oe=xn):(I[oe]=ou,I[Nn]=O,oe=Nn);else if(xn<fe&&0>i(zs,O))I[oe]=zs,I[xn]=O,oe=xn;else break e}}return L}function i(I,L){var O=I.sortIndex-L.sortIndex;return O!==0?O:I.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],a=[],h=1,c=null,d=3,m=!1,_=!1,v=!1,D=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(I){for(var L=n(a);L!==null;){if(L.callback===null)r(a);else if(L.startTime<=I)r(a),L.sortIndex=L.expirationTime,t(u,L);else break;L=n(a)}}function y(I){if(v=!1,g(I),!_)if(n(u)!==null)_=!0,iu(T);else{var L=n(a);L!==null&&su(y,L.startTime-I)}}function T(I,L){_=!1,v&&(v=!1,p(R),R=-1),m=!0;var O=d;try{for(g(L),c=n(u);c!==null&&(!(c.expirationTime>L)||I&&!ht());){var oe=c.callback;if(typeof oe=="function"){c.callback=null,d=c.priorityLevel;var fe=oe(c.expirationTime<=L);L=e.unstable_now(),typeof fe=="function"?c.callback=fe:c===n(u)&&r(u),g(L)}else r(u);c=n(u)}if(c!==null)var Us=!0;else{var Nn=n(a);Nn!==null&&su(y,Nn.startTime-L),Us=!1}return Us}finally{c=null,d=O,m=!1}}var N=!1,x=null,R=-1,se=5,z=-1;function ht(){return!(e.unstable_now()-z<se)}function ni(){if(x!==null){var I=e.unstable_now();z=I;var L=!0;try{L=x(!0,I)}finally{L?ri():(N=!1,x=null)}}else N=!1}var ri;if(typeof f=="function")ri=function(){f(ni)};else if(typeof MessageChannel<"u"){var Pd=new MessageChannel,V0=Pd.port2;Pd.port1.onmessage=ni,ri=function(){V0.postMessage(null)}}else ri=function(){D(ni,0)};function iu(I){x=I,N||(N=!0,ri())}function su(I,L){R=D(function(){I(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){_||m||(_=!0,iu(T))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(I){switch(d){case 1:case 2:case 3:var L=3;break;default:L=d}var O=d;d=L;try{return I()}finally{d=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,L){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var O=d;d=I;try{return L()}finally{d=O}},e.unstable_scheduleCallback=function(I,L,O){var oe=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?oe+O:oe):O=oe,I){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=O+fe,I={id:h++,callback:L,priorityLevel:I,startTime:O,expirationTime:fe,sortIndex:-1},O>oe?(I.sortIndex=O,t(a,I),n(u)===null&&I===n(a)&&(v?(p(R),R=-1):v=!0,su(y,O-oe))):(I.sortIndex=fe,t(u,I),_||m||(_=!0,iu(T))),I},e.unstable_shouldYield=ht,e.unstable_wrapCallback=function(I){var L=d;return function(){var O=d;d=L;try{return I.apply(this,arguments)}finally{d=O}}}})(rg);(function(e){e.exports=rg})(ng);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig=ee.exports,tt=ng.exports;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sg=new Set,Bi={};function er(e,t){Ar(e,t),Ar(e+"Capture",t)}function Ar(e,t){for(Bi[e]=t,e=0;e<t.length;e++)sg.add(t[e])}var Bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ea=Object.prototype.hasOwnProperty,av=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Od={},Md={};function cv(e){return ea.call(Md,e)?!0:ea.call(Od,e)?!1:av.test(e)?Md[e]=!0:(Od[e]=!0,!1)}function hv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dv(e,t,n,r){if(t===null||typeof t>"u"||hv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ze(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var xc=/[\-:]([a-z])/g;function Rc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xc,Rc);Ie[t]=new ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xc,Rc);Ie[t]=new ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xc,Rc);Ie[t]=new ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new ze(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function Pc(e,t,n,r){var i=Ie.hasOwnProperty(t)?Ie[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dv(t,n,i,r)&&(n=null),r||i===null?cv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Kt=ig.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,js=Symbol.for("react.element"),or=Symbol.for("react.portal"),lr=Symbol.for("react.fragment"),Ac=Symbol.for("react.strict_mode"),ta=Symbol.for("react.profiler"),og=Symbol.for("react.provider"),lg=Symbol.for("react.context"),Dc=Symbol.for("react.forward_ref"),na=Symbol.for("react.suspense"),ra=Symbol.for("react.suspense_list"),Lc=Symbol.for("react.memo"),Xt=Symbol.for("react.lazy"),ug=Symbol.for("react.offscreen"),Fd=Symbol.iterator;function ii(e){return e===null||typeof e!="object"?null:(e=Fd&&e[Fd]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Object.assign,uu;function vi(e){if(uu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);uu=t&&t[1]||""}return`
`+uu+e}var au=!1;function cu(e,t){if(!e||au)return"";au=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(a){var r=a}Reflect.construct(e,[],t)}else{try{t.call()}catch(a){r=a}e.call(t.prototype)}else{try{throw Error()}catch(a){r=a}e()}}catch(a){if(a&&r&&typeof a.stack=="string"){for(var i=a.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{au=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vi(e):""}function fv(e){switch(e.tag){case 5:return vi(e.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 2:case 15:return e=cu(e.type,!1),e;case 11:return e=cu(e.type.render,!1),e;case 1:return e=cu(e.type,!0),e;default:return""}}function ia(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lr:return"Fragment";case or:return"Portal";case ta:return"Profiler";case Ac:return"StrictMode";case na:return"Suspense";case ra:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lg:return(e.displayName||"Context")+".Consumer";case og:return(e._context.displayName||"Context")+".Provider";case Dc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Lc:return t=e.displayName||null,t!==null?t:ia(e.type)||"Memo";case Xt:t=e._payload,e=e._init;try{return ia(e(t))}catch{}}return null}function pv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ia(t);case 8:return t===Ac?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _n(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ag(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gv(e){var t=ag(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hs(e){e._valueTracker||(e._valueTracker=gv(e))}function cg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ag(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function wo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sa(e,t){var n=t.checked;return ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function $d(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_n(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hg(e,t){t=t.checked,t!=null&&Pc(e,"checked",t,!1)}function oa(e,t){hg(e,t);var n=_n(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?la(e,t.type,n):t.hasOwnProperty("defaultValue")&&la(e,t.type,_n(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ud(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function la(e,t,n){(t!=="number"||wo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var yi=Array.isArray;function Cr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_n(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ua(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(C(92));if(yi(n)){if(1<n.length)throw Error(C(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_n(n)}}function dg(e,t){var n=_n(t.value),r=_n(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Bd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function aa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bs,pg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bs=bs||document.createElement("div"),bs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ji(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mv=["Webkit","ms","Moz","O"];Object.keys(Ii).forEach(function(e){mv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ii[t]=Ii[e]})});function gg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ii.hasOwnProperty(e)&&Ii[e]?(""+t).trim():t+"px"}function mg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=gg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var _v=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ca(e,t){if(t){if(_v[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function ha(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var da=null;function Oc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fa=null,wr=null,Er=null;function jd(e){if(e=Es(e)){if(typeof fa!="function")throw Error(C(280));var t=e.stateNode;t&&(t=Cl(t),fa(e.stateNode,e.type,t))}}function _g(e){wr?Er?Er.push(e):Er=[e]:wr=e}function vg(){if(wr){var e=wr,t=Er;if(Er=wr=null,jd(e),t)for(e=0;e<t.length;e++)jd(t[e])}}function yg(e,t){return e(t)}function Cg(){}var hu=!1;function wg(e,t,n){if(hu)return e(t,n);hu=!0;try{return yg(e,t,n)}finally{hu=!1,(wr!==null||Er!==null)&&(Cg(),vg())}}function Hi(e,t){var n=e.stateNode;if(n===null)return null;var r=Cl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var pa=!1;if(Bt)try{var si={};Object.defineProperty(si,"passive",{get:function(){pa=!0}}),window.addEventListener("test",si,si),window.removeEventListener("test",si,si)}catch{pa=!1}function vv(e,t,n,r,i,s,o,l,u){var a=Array.prototype.slice.call(arguments,3);try{t.apply(n,a)}catch(h){this.onError(h)}}var ki=!1,Eo=null,So=!1,ga=null,yv={onError:function(e){ki=!0,Eo=e}};function Cv(e,t,n,r,i,s,o,l,u){ki=!1,Eo=null,vv.apply(yv,arguments)}function wv(e,t,n,r,i,s,o,l,u){if(Cv.apply(this,arguments),ki){if(ki){var a=Eo;ki=!1,Eo=null}else throw Error(C(198));So||(So=!0,ga=a)}}function tr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Eg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hd(e){if(tr(e)!==e)throw Error(C(188))}function Ev(e){var t=e.alternate;if(!t){if(t=tr(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Hd(i),e;if(s===r)return Hd(i),t;s=s.sibling}throw Error(C(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function Sg(e){return e=Ev(e),e!==null?Tg(e):null}function Tg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Tg(e);if(t!==null)return t;e=e.sibling}return null}var Ig=tt.unstable_scheduleCallback,bd=tt.unstable_cancelCallback,Sv=tt.unstable_shouldYield,Tv=tt.unstable_requestPaint,le=tt.unstable_now,Iv=tt.unstable_getCurrentPriorityLevel,Mc=tt.unstable_ImmediatePriority,kg=tt.unstable_UserBlockingPriority,To=tt.unstable_NormalPriority,kv=tt.unstable_LowPriority,Ng=tt.unstable_IdlePriority,ml=null,Nt=null;function Nv(e){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(ml,e,void 0,(e.current.flags&128)===128)}catch{}}var yt=Math.clz32?Math.clz32:Pv,xv=Math.log,Rv=Math.LN2;function Pv(e){return e>>>=0,e===0?32:31-(xv(e)/Rv|0)|0}var Ws=64,Vs=4194304;function Ci(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Io(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Ci(l):(s&=o,s!==0&&(r=Ci(s)))}else o=n&~i,o!==0?r=Ci(o):s!==0&&(r=Ci(s));if(r===0)return 0;if(t!==0&&t!==r&&(t&i)===0&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-yt(t),i=1<<n,r|=e[n],t&=~i;return r}function Av(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-yt(s),l=1<<o,u=i[o];u===-1?((l&n)===0||(l&r)!==0)&&(i[o]=Av(l,t)):u<=t&&(e.expiredLanes|=l),s&=~l}}function ma(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xg(){var e=Ws;return Ws<<=1,(Ws&4194240)===0&&(Ws=64),e}function du(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Cs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yt(t),e[t]=n}function Lv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-yt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Fc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-yt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var b=0;function Rg(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Pg,$c,Ag,Dg,Lg,_a=!1,Gs=[],sn=null,on=null,ln=null,bi=new Map,Wi=new Map,Zt=[],Ov="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wd(e,t){switch(e){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":ln=null;break;case"pointerover":case"pointerout":bi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wi.delete(t.pointerId)}}function oi(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Es(t),t!==null&&$c(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Mv(e,t,n,r,i){switch(t){case"focusin":return sn=oi(sn,e,t,n,r,i),!0;case"dragenter":return on=oi(on,e,t,n,r,i),!0;case"mouseover":return ln=oi(ln,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return bi.set(s,oi(bi.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Wi.set(s,oi(Wi.get(s)||null,e,t,n,r,i)),!0}return!1}function Og(e){var t=Ln(e.target);if(t!==null){var n=tr(t);if(n!==null){if(t=n.tag,t===13){if(t=Eg(n),t!==null){e.blockedOn=t,Lg(e.priority,function(){Ag(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function co(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=va(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);da=r,n.target.dispatchEvent(r),da=null}else return t=Es(n),t!==null&&$c(t),e.blockedOn=n,!1;t.shift()}return!0}function Vd(e,t,n){co(e)&&n.delete(t)}function Fv(){_a=!1,sn!==null&&co(sn)&&(sn=null),on!==null&&co(on)&&(on=null),ln!==null&&co(ln)&&(ln=null),bi.forEach(Vd),Wi.forEach(Vd)}function li(e,t){e.blockedOn===t&&(e.blockedOn=null,_a||(_a=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,Fv)))}function Vi(e){function t(i){return li(i,e)}if(0<Gs.length){li(Gs[0],e);for(var n=1;n<Gs.length;n++){var r=Gs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(sn!==null&&li(sn,e),on!==null&&li(on,e),ln!==null&&li(ln,e),bi.forEach(t),Wi.forEach(t),n=0;n<Zt.length;n++)r=Zt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Zt.length&&(n=Zt[0],n.blockedOn===null);)Og(n),n.blockedOn===null&&Zt.shift()}var Sr=Kt.ReactCurrentBatchConfig,ko=!0;function $v(e,t,n,r){var i=b,s=Sr.transition;Sr.transition=null;try{b=1,Uc(e,t,n,r)}finally{b=i,Sr.transition=s}}function Uv(e,t,n,r){var i=b,s=Sr.transition;Sr.transition=null;try{b=4,Uc(e,t,n,r)}finally{b=i,Sr.transition=s}}function Uc(e,t,n,r){if(ko){var i=va(e,t,n,r);if(i===null)Eu(e,t,r,No,n),Wd(e,r);else if(Mv(i,e,t,n,r))r.stopPropagation();else if(Wd(e,r),t&4&&-1<Ov.indexOf(e)){for(;i!==null;){var s=Es(i);if(s!==null&&Pg(s),s=va(e,t,n,r),s===null&&Eu(e,t,r,No,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Eu(e,t,r,null,n)}}var No=null;function va(e,t,n,r){if(No=null,e=Oc(r),e=Ln(e),e!==null)if(t=tr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Eg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return No=e,null}function Mg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Iv()){case Mc:return 1;case kg:return 4;case To:case kv:return 16;case Ng:return 536870912;default:return 16}default:return 16}}var nn=null,zc=null,ho=null;function Fg(){if(ho)return ho;var e,t=zc,n=t.length,r,i="value"in nn?nn.value:nn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return ho=i.slice(e,1<r?1-r:void 0)}function fo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ks(){return!0}function Gd(){return!1}function rt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ks:Gd,this.isPropagationStopped=Gd,this}return ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ks)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ks)},persist:function(){},isPersistent:Ks}),t}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bc=rt(Vr),ws=ne({},Vr,{view:0,detail:0}),zv=rt(ws),fu,pu,ui,_l=ne({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ui&&(ui&&e.type==="mousemove"?(fu=e.screenX-ui.screenX,pu=e.screenY-ui.screenY):pu=fu=0,ui=e),fu)},movementY:function(e){return"movementY"in e?e.movementY:pu}}),Kd=rt(_l),Bv=ne({},_l,{dataTransfer:0}),jv=rt(Bv),Hv=ne({},ws,{relatedTarget:0}),gu=rt(Hv),bv=ne({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),Wv=rt(bv),Vv=ne({},Vr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gv=rt(Vv),Kv=ne({},Vr,{data:0}),Qd=rt(Kv),Qv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qv[e])?!!t[e]:!1}function jc(){return Xv}var Jv=ne({},ws,{key:function(e){if(e.key){var t=Qv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jc,charCode:function(e){return e.type==="keypress"?fo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zv=rt(Jv),ey=ne({},_l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yd=rt(ey),ty=ne({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jc}),ny=rt(ty),ry=ne({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),iy=rt(ry),sy=ne({},_l,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oy=rt(sy),ly=[9,13,27,32],Hc=Bt&&"CompositionEvent"in window,Ni=null;Bt&&"documentMode"in document&&(Ni=document.documentMode);var uy=Bt&&"TextEvent"in window&&!Ni,$g=Bt&&(!Hc||Ni&&8<Ni&&11>=Ni),qd=String.fromCharCode(32),Xd=!1;function Ug(e,t){switch(e){case"keyup":return ly.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ur=!1;function ay(e,t){switch(e){case"compositionend":return zg(t);case"keypress":return t.which!==32?null:(Xd=!0,qd);case"textInput":return e=t.data,e===qd&&Xd?null:e;default:return null}}function cy(e,t){if(ur)return e==="compositionend"||!Hc&&Ug(e,t)?(e=Fg(),ho=zc=nn=null,ur=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $g&&t.locale!=="ko"?null:t.data;default:return null}}var hy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hy[e.type]:t==="textarea"}function Bg(e,t,n,r){_g(r),t=xo(t,"onChange"),0<t.length&&(n=new Bc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var xi=null,Gi=null;function dy(e){Xg(e,0)}function vl(e){var t=hr(e);if(cg(t))return e}function fy(e,t){if(e==="change")return t}var jg=!1;if(Bt){var mu;if(Bt){var _u="oninput"in document;if(!_u){var Zd=document.createElement("div");Zd.setAttribute("oninput","return;"),_u=typeof Zd.oninput=="function"}mu=_u}else mu=!1;jg=mu&&(!document.documentMode||9<document.documentMode)}function ef(){xi&&(xi.detachEvent("onpropertychange",Hg),Gi=xi=null)}function Hg(e){if(e.propertyName==="value"&&vl(Gi)){var t=[];Bg(t,Gi,e,Oc(e)),wg(dy,t)}}function py(e,t,n){e==="focusin"?(ef(),xi=t,Gi=n,xi.attachEvent("onpropertychange",Hg)):e==="focusout"&&ef()}function gy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vl(Gi)}function my(e,t){if(e==="click")return vl(t)}function _y(e,t){if(e==="input"||e==="change")return vl(t)}function vy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:vy;function Ki(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ea.call(t,i)||!Et(e[i],t[i]))return!1}return!0}function tf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nf(e,t){var n=tf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tf(n)}}function bg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wg(){for(var e=window,t=wo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wo(e.document)}return t}function bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function yy(e){var t=Wg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&bg(n.ownerDocument.documentElement,n)){if(r!==null&&bc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=nf(n,s);var o=nf(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Cy=Bt&&"documentMode"in document&&11>=document.documentMode,ar=null,ya=null,Ri=null,Ca=!1;function rf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ca||ar==null||ar!==wo(r)||(r=ar,"selectionStart"in r&&bc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ri&&Ki(Ri,r)||(Ri=r,r=xo(ya,"onSelect"),0<r.length&&(t=new Bc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ar)))}function Qs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionend:Qs("Transition","TransitionEnd")},vu={},Vg={};Bt&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);function yl(e){if(vu[e])return vu[e];if(!cr[e])return e;var t=cr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Vg)return vu[e]=t[n];return e}var Gg=yl("animationend"),Kg=yl("animationiteration"),Qg=yl("animationstart"),Yg=yl("transitionend"),qg=new Map,sf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(e,t){qg.set(e,t),er(t,[e])}for(var yu=0;yu<sf.length;yu++){var Cu=sf[yu],wy=Cu.toLowerCase(),Ey=Cu[0].toUpperCase()+Cu.slice(1);En(wy,"on"+Ey)}En(Gg,"onAnimationEnd");En(Kg,"onAnimationIteration");En(Qg,"onAnimationStart");En("dblclick","onDoubleClick");En("focusin","onFocus");En("focusout","onBlur");En(Yg,"onTransitionEnd");Ar("onMouseEnter",["mouseout","mouseover"]);Ar("onMouseLeave",["mouseout","mouseover"]);Ar("onPointerEnter",["pointerout","pointerover"]);Ar("onPointerLeave",["pointerout","pointerover"]);er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));er("onBeforeInput",["compositionend","keypress","textInput","paste"]);er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sy=new Set("cancel close invalid load scroll toggle".split(" ").concat(wi));function of(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,wv(r,t,void 0,e),e.currentTarget=null}function Xg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,a=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;of(i,l,a),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,a=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;of(i,l,a),s=u}}}if(So)throw e=ga,So=!1,ga=null,e}function Q(e,t){var n=t[Ia];n===void 0&&(n=t[Ia]=new Set);var r=e+"__bubble";n.has(r)||(Jg(t,e,2,!1),n.add(r))}function wu(e,t,n){var r=0;t&&(r|=4),Jg(n,e,r,t)}var Ys="_reactListening"+Math.random().toString(36).slice(2);function Qi(e){if(!e[Ys]){e[Ys]=!0,sg.forEach(function(n){n!=="selectionchange"&&(Sy.has(n)||wu(n,!1,e),wu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ys]||(t[Ys]=!0,wu("selectionchange",!1,t))}}function Jg(e,t,n,r){switch(Mg(t)){case 1:var i=$v;break;case 4:i=Uv;break;default:i=Uc}n=i.bind(null,t,n,e),i=void 0,!pa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Eu(e,t,n,r,i){var s=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Ln(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}wg(function(){var a=s,h=Oc(n),c=[];e:{var d=qg.get(e);if(d!==void 0){var m=Bc,_=e;switch(e){case"keypress":if(fo(n)===0)break e;case"keydown":case"keyup":m=Zv;break;case"focusin":_="focus",m=gu;break;case"focusout":_="blur",m=gu;break;case"beforeblur":case"afterblur":m=gu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Kd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=jv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=ny;break;case Gg:case Kg:case Qg:m=Wv;break;case Yg:m=iy;break;case"scroll":m=zv;break;case"wheel":m=oy;break;case"copy":case"cut":case"paste":m=Gv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Yd}var v=(t&4)!==0,D=!v&&e==="scroll",p=v?d!==null?d+"Capture":null:d;v=[];for(var f=a,g;f!==null;){g=f;var y=g.stateNode;if(g.tag===5&&y!==null&&(g=y,p!==null&&(y=Hi(f,p),y!=null&&v.push(Yi(f,y,g)))),D)break;f=f.return}0<v.length&&(d=new m(d,_,null,n,h),c.push({event:d,listeners:v}))}}if((t&7)===0){e:{if(d=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",d&&n!==da&&(_=n.relatedTarget||n.fromElement)&&(Ln(_)||_[jt]))break e;if((m||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,m?(_=n.relatedTarget||n.toElement,m=a,_=_?Ln(_):null,_!==null&&(D=tr(_),_!==D||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=a),m!==_)){if(v=Kd,y="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(v=Yd,y="onPointerLeave",p="onPointerEnter",f="pointer"),D=m==null?d:hr(m),g=_==null?d:hr(_),d=new v(y,f+"leave",m,n,h),d.target=D,d.relatedTarget=g,y=null,Ln(h)===a&&(v=new v(p,f+"enter",_,n,h),v.target=g,v.relatedTarget=D,y=v),D=y,m&&_)t:{for(v=m,p=_,f=0,g=v;g;g=ir(g))f++;for(g=0,y=p;y;y=ir(y))g++;for(;0<f-g;)v=ir(v),f--;for(;0<g-f;)p=ir(p),g--;for(;f--;){if(v===p||p!==null&&v===p.alternate)break t;v=ir(v),p=ir(p)}v=null}else v=null;m!==null&&lf(c,d,m,v,!1),_!==null&&D!==null&&lf(c,D,_,v,!0)}}e:{if(d=a?hr(a):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var T=fy;else if(Jd(d))if(jg)T=_y;else{T=gy;var N=py}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=my);if(T&&(T=T(e,a))){Bg(c,T,n,h);break e}N&&N(e,d,a),e==="focusout"&&(N=d._wrapperState)&&N.controlled&&d.type==="number"&&la(d,"number",d.value)}switch(N=a?hr(a):window,e){case"focusin":(Jd(N)||N.contentEditable==="true")&&(ar=N,ya=a,Ri=null);break;case"focusout":Ri=ya=ar=null;break;case"mousedown":Ca=!0;break;case"contextmenu":case"mouseup":case"dragend":Ca=!1,rf(c,n,h);break;case"selectionchange":if(Cy)break;case"keydown":case"keyup":rf(c,n,h)}var x;if(Hc)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else ur?Ug(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&($g&&n.locale!=="ko"&&(ur||R!=="onCompositionStart"?R==="onCompositionEnd"&&ur&&(x=Fg()):(nn=h,zc="value"in nn?nn.value:nn.textContent,ur=!0)),N=xo(a,R),0<N.length&&(R=new Qd(R,e,null,n,h),c.push({event:R,listeners:N}),x?R.data=x:(x=zg(n),x!==null&&(R.data=x)))),(x=uy?ay(e,n):cy(e,n))&&(a=xo(a,"onBeforeInput"),0<a.length&&(h=new Qd("onBeforeInput","beforeinput",null,n,h),c.push({event:h,listeners:a}),h.data=x))}Xg(c,t)})}function Yi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xo(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Hi(e,n),s!=null&&r.unshift(Yi(e,s,i)),s=Hi(e,t),s!=null&&r.push(Yi(e,s,i))),e=e.return}return r}function ir(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lf(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,a=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&a!==null&&(l=a,i?(u=Hi(n,s),u!=null&&o.unshift(Yi(n,u,l))):i||(u=Hi(n,s),u!=null&&o.push(Yi(n,u,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Ty=/\r\n?/g,Iy=/\u0000|\uFFFD/g;function uf(e){return(typeof e=="string"?e:""+e).replace(Ty,`
`).replace(Iy,"")}function qs(e,t,n){if(t=uf(t),uf(e)!==t&&n)throw Error(C(425))}function Ro(){}var wa=null,Ea=null;function Sa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ta=typeof setTimeout=="function"?setTimeout:void 0,ky=typeof clearTimeout=="function"?clearTimeout:void 0,af=typeof Promise=="function"?Promise:void 0,Ny=typeof queueMicrotask=="function"?queueMicrotask:typeof af<"u"?function(e){return af.resolve(null).then(e).catch(xy)}:Ta;function xy(e){setTimeout(function(){throw e})}function Su(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Vi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vi(t)}function un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Gr=Math.random().toString(36).slice(2),It="__reactFiber$"+Gr,qi="__reactProps$"+Gr,jt="__reactContainer$"+Gr,Ia="__reactEvents$"+Gr,Ry="__reactListeners$"+Gr,Py="__reactHandles$"+Gr;function Ln(e){var t=e[It];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jt]||n[It]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cf(e);e!==null;){if(n=e[It])return n;e=cf(e)}return t}e=n,n=e.parentNode}return null}function Es(e){return e=e[It]||e[jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function Cl(e){return e[qi]||null}var ka=[],dr=-1;function Sn(e){return{current:e}}function q(e){0>dr||(e.current=ka[dr],ka[dr]=null,dr--)}function K(e,t){dr++,ka[dr]=e.current,e.current=t}var vn={},Oe=Sn(vn),Ve=Sn(!1),Wn=vn;function Dr(e,t){var n=e.type.contextTypes;if(!n)return vn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ge(e){return e=e.childContextTypes,e!=null}function Po(){q(Ve),q(Oe)}function hf(e,t,n){if(Oe.current!==vn)throw Error(C(168));K(Oe,t),K(Ve,n)}function Zg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(C(108,pv(e)||"Unknown",i));return ne({},n,r)}function Ao(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vn,Wn=Oe.current,K(Oe,e),K(Ve,Ve.current),!0}function df(e,t,n){var r=e.stateNode;if(!r)throw Error(C(169));n?(e=Zg(e,t,Wn),r.__reactInternalMemoizedMergedChildContext=e,q(Ve),q(Oe),K(Oe,e)):q(Ve),K(Ve,n)}var Lt=null,wl=!1,Tu=!1;function em(e){Lt===null?Lt=[e]:Lt.push(e)}function Ay(e){wl=!0,em(e)}function Tn(){if(!Tu&&Lt!==null){Tu=!0;var e=0,t=b;try{var n=Lt;for(b=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Lt=null,wl=!1}catch(i){throw Lt!==null&&(Lt=Lt.slice(e+1)),Ig(Mc,Tn),i}finally{b=t,Tu=!1}}return null}var fr=[],pr=0,Do=null,Lo=0,it=[],st=0,Vn=null,Ot=1,Mt="";function Rn(e,t){fr[pr++]=Lo,fr[pr++]=Do,Do=e,Lo=t}function tm(e,t,n){it[st++]=Ot,it[st++]=Mt,it[st++]=Vn,Vn=e;var r=Ot;e=Mt;var i=32-yt(r)-1;r&=~(1<<i),n+=1;var s=32-yt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ot=1<<32-yt(t)+i|n<<i|r,Mt=s+e}else Ot=1<<s|n<<i|r,Mt=e}function Wc(e){e.return!==null&&(Rn(e,1),tm(e,1,0))}function Vc(e){for(;e===Do;)Do=fr[--pr],fr[pr]=null,Lo=fr[--pr],fr[pr]=null;for(;e===Vn;)Vn=it[--st],it[st]=null,Mt=it[--st],it[st]=null,Ot=it[--st],it[st]=null}var Ze=null,Xe=null,X=!1,gt=null;function nm(e,t){var n=ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ff(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ze=e,Xe=un(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ze=e,Xe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Vn!==null?{id:Ot,overflow:Mt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ze=e,Xe=null,!0):!1;default:return!1}}function Na(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xa(e){if(X){var t=Xe;if(t){var n=t;if(!ff(e,t)){if(Na(e))throw Error(C(418));t=un(n.nextSibling);var r=Ze;t&&ff(e,t)?nm(r,n):(e.flags=e.flags&-4097|2,X=!1,Ze=e)}}else{if(Na(e))throw Error(C(418));e.flags=e.flags&-4097|2,X=!1,Ze=e}}}function pf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ze=e}function Xs(e){if(e!==Ze)return!1;if(!X)return pf(e),X=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Sa(e.type,e.memoizedProps)),t&&(t=Xe)){if(Na(e))throw rm(),Error(C(418));for(;t;)nm(e,t),t=un(t.nextSibling)}if(pf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xe=un(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xe=null}}else Xe=Ze?un(e.stateNode.nextSibling):null;return!0}function rm(){for(var e=Xe;e;)e=un(e.nextSibling)}function Lr(){Xe=Ze=null,X=!1}function Gc(e){gt===null?gt=[e]:gt.push(e)}var Dy=Kt.ReactCurrentBatchConfig;function ft(e,t){if(e&&e.defaultProps){t=ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Oo=Sn(null),Mo=null,gr=null,Kc=null;function Qc(){Kc=gr=Mo=null}function Yc(e){var t=Oo.current;q(Oo),e._currentValue=t}function Ra(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Tr(e,t){Mo=e,Kc=gr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(He=!0),e.firstContext=null)}function ut(e){var t=e._currentValue;if(Kc!==e)if(e={context:e,memoizedValue:t,next:null},gr===null){if(Mo===null)throw Error(C(308));gr=e,Mo.dependencies={lanes:0,firstContext:e}}else gr=gr.next=e;return t}var On=null;function qc(e){On===null?On=[e]:On.push(e)}function im(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,qc(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ht(e,r)}function Ht(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Jt=!1;function Xc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ut(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function an(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(j&2)!==0){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ht(e,n)}return i=r.interleaved,i===null?(t.next=t,qc(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ht(e,n)}function po(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fc(e,n)}}function gf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,r){var i=e.updateQueue;Jt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,a=u.next;u.next=null,o===null?s=a:o.next=a,o=u;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=a:l.next=a,h.lastBaseUpdate=u))}if(s!==null){var c=i.baseState;o=0,h=a=u=null,l=s;do{var d=l.lane,m=l.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=e,v=l;switch(d=t,m=n,v.tag){case 1:if(_=v.payload,typeof _=="function"){c=_.call(m,c,d);break e}c=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,d=typeof _=="function"?_.call(m,c,d):_,d==null)break e;c=ne({},c,d);break e;case 2:Jt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else m={eventTime:m,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(a=h=m,u=c):h=h.next=m,o|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(h===null&&(u=c),i.baseState=u,i.firstBaseUpdate=a,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Kn|=o,e.lanes=o,e.memoizedState=c}}function mf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(C(191,i));i.call(r)}}}var om=new ig.Component().refs;function Pa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var El={isMounted:function(e){return(e=e._reactInternals)?tr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$e(),i=hn(e),s=Ut(r,i);s.payload=t,n!=null&&(s.callback=n),t=an(e,s,i),t!==null&&(Ct(t,e,i,r),po(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$e(),i=hn(e),s=Ut(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=an(e,s,i),t!==null&&(Ct(t,e,i,r),po(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$e(),r=hn(e),i=Ut(n,r);i.tag=2,t!=null&&(i.callback=t),t=an(e,i,r),t!==null&&(Ct(t,e,r,n),po(t,e,r))}};function _f(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Ki(n,r)||!Ki(i,s):!0}function lm(e,t,n){var r=!1,i=vn,s=t.contextType;return typeof s=="object"&&s!==null?s=ut(s):(i=Ge(t)?Wn:Oe.current,r=t.contextTypes,s=(r=r!=null)?Dr(e,i):vn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=El,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function vf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&El.enqueueReplaceState(t,t.state,null)}function Aa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=om,Xc(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ut(s):(s=Ge(t)?Wn:Oe.current,i.context=Dr(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Pa(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&El.enqueueReplaceState(i,i.state,null),Fo(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ai(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;l===om&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,e))}return e}function Js(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yf(e){var t=e._init;return t(e._payload)}function um(e){function t(p,f){if(e){var g=p.deletions;g===null?(p.deletions=[f],p.flags|=16):g.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function i(p,f){return p=dn(p,f),p.index=0,p.sibling=null,p}function s(p,f,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<f?(p.flags|=2,f):g):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,f,g,y){return f===null||f.tag!==6?(f=Au(g,p.mode,y),f.return=p,f):(f=i(f,g),f.return=p,f)}function u(p,f,g,y){var T=g.type;return T===lr?h(p,f,g.props.children,y,g.key):f!==null&&(f.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Xt&&yf(T)===f.type)?(y=i(f,g.props),y.ref=ai(p,f,g),y.return=p,y):(y=Co(g.type,g.key,g.props,null,p.mode,y),y.ref=ai(p,f,g),y.return=p,y)}function a(p,f,g,y){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Du(g,p.mode,y),f.return=p,f):(f=i(f,g.children||[]),f.return=p,f)}function h(p,f,g,y,T){return f===null||f.tag!==7?(f=jn(g,p.mode,y,T),f.return=p,f):(f=i(f,g),f.return=p,f)}function c(p,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Au(""+f,p.mode,g),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case js:return g=Co(f.type,f.key,f.props,null,p.mode,g),g.ref=ai(p,null,f),g.return=p,g;case or:return f=Du(f,p.mode,g),f.return=p,f;case Xt:var y=f._init;return c(p,y(f._payload),g)}if(yi(f)||ii(f))return f=jn(f,p.mode,g,null),f.return=p,f;Js(p,f)}return null}function d(p,f,g,y){var T=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return T!==null?null:l(p,f,""+g,y);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case js:return g.key===T?u(p,f,g,y):null;case or:return g.key===T?a(p,f,g,y):null;case Xt:return T=g._init,d(p,f,T(g._payload),y)}if(yi(g)||ii(g))return T!==null?null:h(p,f,g,y,null);Js(p,g)}return null}function m(p,f,g,y,T){if(typeof y=="string"&&y!==""||typeof y=="number")return p=p.get(g)||null,l(f,p,""+y,T);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case js:return p=p.get(y.key===null?g:y.key)||null,u(f,p,y,T);case or:return p=p.get(y.key===null?g:y.key)||null,a(f,p,y,T);case Xt:var N=y._init;return m(p,f,g,N(y._payload),T)}if(yi(y)||ii(y))return p=p.get(g)||null,h(f,p,y,T,null);Js(f,y)}return null}function _(p,f,g,y){for(var T=null,N=null,x=f,R=f=0,se=null;x!==null&&R<g.length;R++){x.index>R?(se=x,x=null):se=x.sibling;var z=d(p,x,g[R],y);if(z===null){x===null&&(x=se);break}e&&x&&z.alternate===null&&t(p,x),f=s(z,f,R),N===null?T=z:N.sibling=z,N=z,x=se}if(R===g.length)return n(p,x),X&&Rn(p,R),T;if(x===null){for(;R<g.length;R++)x=c(p,g[R],y),x!==null&&(f=s(x,f,R),N===null?T=x:N.sibling=x,N=x);return X&&Rn(p,R),T}for(x=r(p,x);R<g.length;R++)se=m(x,p,R,g[R],y),se!==null&&(e&&se.alternate!==null&&x.delete(se.key===null?R:se.key),f=s(se,f,R),N===null?T=se:N.sibling=se,N=se);return e&&x.forEach(function(ht){return t(p,ht)}),X&&Rn(p,R),T}function v(p,f,g,y){var T=ii(g);if(typeof T!="function")throw Error(C(150));if(g=T.call(g),g==null)throw Error(C(151));for(var N=T=null,x=f,R=f=0,se=null,z=g.next();x!==null&&!z.done;R++,z=g.next()){x.index>R?(se=x,x=null):se=x.sibling;var ht=d(p,x,z.value,y);if(ht===null){x===null&&(x=se);break}e&&x&&ht.alternate===null&&t(p,x),f=s(ht,f,R),N===null?T=ht:N.sibling=ht,N=ht,x=se}if(z.done)return n(p,x),X&&Rn(p,R),T;if(x===null){for(;!z.done;R++,z=g.next())z=c(p,z.value,y),z!==null&&(f=s(z,f,R),N===null?T=z:N.sibling=z,N=z);return X&&Rn(p,R),T}for(x=r(p,x);!z.done;R++,z=g.next())z=m(x,p,R,z.value,y),z!==null&&(e&&z.alternate!==null&&x.delete(z.key===null?R:z.key),f=s(z,f,R),N===null?T=z:N.sibling=z,N=z);return e&&x.forEach(function(ni){return t(p,ni)}),X&&Rn(p,R),T}function D(p,f,g,y){if(typeof g=="object"&&g!==null&&g.type===lr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case js:e:{for(var T=g.key,N=f;N!==null;){if(N.key===T){if(T=g.type,T===lr){if(N.tag===7){n(p,N.sibling),f=i(N,g.props.children),f.return=p,p=f;break e}}else if(N.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Xt&&yf(T)===N.type){n(p,N.sibling),f=i(N,g.props),f.ref=ai(p,N,g),f.return=p,p=f;break e}n(p,N);break}else t(p,N);N=N.sibling}g.type===lr?(f=jn(g.props.children,p.mode,y,g.key),f.return=p,p=f):(y=Co(g.type,g.key,g.props,null,p.mode,y),y.ref=ai(p,f,g),y.return=p,p=y)}return o(p);case or:e:{for(N=g.key;f!==null;){if(f.key===N)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(p,f.sibling),f=i(f,g.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=Du(g,p.mode,y),f.return=p,p=f}return o(p);case Xt:return N=g._init,D(p,f,N(g._payload),y)}if(yi(g))return _(p,f,g,y);if(ii(g))return v(p,f,g,y);Js(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(p,f.sibling),f=i(f,g),f.return=p,p=f):(n(p,f),f=Au(g,p.mode,y),f.return=p,p=f),o(p)):n(p,f)}return D}var Or=um(!0),am=um(!1),Ss={},xt=Sn(Ss),Xi=Sn(Ss),Ji=Sn(Ss);function Mn(e){if(e===Ss)throw Error(C(174));return e}function Jc(e,t){switch(K(Ji,t),K(Xi,e),K(xt,Ss),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:aa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=aa(t,e)}q(xt),K(xt,t)}function Mr(){q(xt),q(Xi),q(Ji)}function cm(e){Mn(Ji.current);var t=Mn(xt.current),n=aa(t,e.type);t!==n&&(K(Xi,e),K(xt,n))}function Zc(e){Xi.current===e&&(q(xt),q(Xi))}var Z=Sn(0);function $o(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Iu=[];function eh(){for(var e=0;e<Iu.length;e++)Iu[e]._workInProgressVersionPrimary=null;Iu.length=0}var go=Kt.ReactCurrentDispatcher,ku=Kt.ReactCurrentBatchConfig,Gn=0,te=null,ce=null,ge=null,Uo=!1,Pi=!1,Zi=0,Ly=0;function Ne(){throw Error(C(321))}function th(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Et(e[n],t[n]))return!1;return!0}function nh(e,t,n,r,i,s){if(Gn=s,te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,go.current=e===null||e.memoizedState===null?$y:Uy,e=n(r,i),Pi){s=0;do{if(Pi=!1,Zi=0,25<=s)throw Error(C(301));s+=1,ge=ce=null,t.updateQueue=null,go.current=zy,e=n(r,i)}while(Pi)}if(go.current=zo,t=ce!==null&&ce.next!==null,Gn=0,ge=ce=te=null,Uo=!1,t)throw Error(C(300));return e}function rh(){var e=Zi!==0;return Zi=0,e}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?te.memoizedState=ge=e:ge=ge.next=e,ge}function at(){if(ce===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=ce.next;var t=ge===null?te.memoizedState:ge.next;if(t!==null)ge=t,ce=e;else{if(e===null)throw Error(C(310));ce=e,e={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},ge===null?te.memoizedState=ge=e:ge=ge.next=e}return ge}function es(e,t){return typeof t=="function"?t(e):t}function Nu(e){var t=at(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=ce,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,a=s;do{var h=a.lane;if((Gn&h)===h)u!==null&&(u=u.next={lane:0,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null}),r=a.hasEagerState?a.eagerState:e(r,a.action);else{var c={lane:h,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null};u===null?(l=u=c,o=r):u=u.next=c,te.lanes|=h,Kn|=h}a=a.next}while(a!==null&&a!==s);u===null?o=r:u.next=l,Et(r,t.memoizedState)||(He=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,te.lanes|=s,Kn|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xu(e){var t=at(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Et(s,t.memoizedState)||(He=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function hm(){}function dm(e,t){var n=te,r=at(),i=t(),s=!Et(r.memoizedState,i);if(s&&(r.memoizedState=i,He=!0),r=r.queue,ih(gm.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ge!==null&&ge.memoizedState.tag&1){if(n.flags|=2048,ts(9,pm.bind(null,n,r,i,t),void 0,null),ve===null)throw Error(C(349));(Gn&30)!==0||fm(n,t,i)}return i}function fm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function pm(e,t,n,r){t.value=n,t.getSnapshot=r,mm(t)&&_m(e)}function gm(e,t,n){return n(function(){mm(t)&&_m(e)})}function mm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Et(e,n)}catch{return!0}}function _m(e){var t=Ht(e,1);t!==null&&Ct(t,e,1,-1)}function Cf(e){var t=Tt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:e},t.queue=e,e=e.dispatch=Fy.bind(null,te,e),[t.memoizedState,e]}function ts(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function vm(){return at().memoizedState}function mo(e,t,n,r){var i=Tt();te.flags|=e,i.memoizedState=ts(1|t,n,void 0,r===void 0?null:r)}function Sl(e,t,n,r){var i=at();r=r===void 0?null:r;var s=void 0;if(ce!==null){var o=ce.memoizedState;if(s=o.destroy,r!==null&&th(r,o.deps)){i.memoizedState=ts(t,n,s,r);return}}te.flags|=e,i.memoizedState=ts(1|t,n,s,r)}function wf(e,t){return mo(8390656,8,e,t)}function ih(e,t){return Sl(2048,8,e,t)}function ym(e,t){return Sl(4,2,e,t)}function Cm(e,t){return Sl(4,4,e,t)}function wm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Em(e,t,n){return n=n!=null?n.concat([e]):null,Sl(4,4,wm.bind(null,t,e),n)}function sh(){}function Sm(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&th(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Tm(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&th(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Im(e,t,n){return(Gn&21)===0?(e.baseState&&(e.baseState=!1,He=!0),e.memoizedState=n):(Et(n,t)||(n=xg(),te.lanes|=n,Kn|=n,e.baseState=!0),t)}function Oy(e,t){var n=b;b=n!==0&&4>n?n:4,e(!0);var r=ku.transition;ku.transition={};try{e(!1),t()}finally{b=n,ku.transition=r}}function km(){return at().memoizedState}function My(e,t,n){var r=hn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Nm(e))xm(t,n);else if(n=im(e,t,n,r),n!==null){var i=$e();Ct(n,e,r,i),Rm(n,t,r)}}function Fy(e,t,n){var r=hn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Nm(e))xm(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Et(l,o)){var u=t.interleaved;u===null?(i.next=i,qc(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=im(e,t,i,r),n!==null&&(i=$e(),Ct(n,e,r,i),Rm(n,t,r))}}function Nm(e){var t=e.alternate;return e===te||t!==null&&t===te}function xm(e,t){Pi=Uo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Rm(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fc(e,n)}}var zo={readContext:ut,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},$y={readContext:ut,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:wf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,mo(4194308,4,wm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return mo(4,2,e,t)},useMemo:function(e,t){var n=Tt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Tt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=My.bind(null,te,e),[r.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:Cf,useDebugValue:sh,useDeferredValue:function(e){return Tt().memoizedState=e},useTransition:function(){var e=Cf(!1),t=e[0];return e=Oy.bind(null,e[1]),Tt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=te,i=Tt();if(X){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),ve===null)throw Error(C(349));(Gn&30)!==0||fm(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,wf(gm.bind(null,r,s,e),[e]),r.flags|=2048,ts(9,pm.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Tt(),t=ve.identifierPrefix;if(X){var n=Mt,r=Ot;n=(r&~(1<<32-yt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Zi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ly++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Uy={readContext:ut,useCallback:Sm,useContext:ut,useEffect:ih,useImperativeHandle:Em,useInsertionEffect:ym,useLayoutEffect:Cm,useMemo:Tm,useReducer:Nu,useRef:vm,useState:function(){return Nu(es)},useDebugValue:sh,useDeferredValue:function(e){var t=at();return Im(t,ce.memoizedState,e)},useTransition:function(){var e=Nu(es)[0],t=at().memoizedState;return[e,t]},useMutableSource:hm,useSyncExternalStore:dm,useId:km,unstable_isNewReconciler:!1},zy={readContext:ut,useCallback:Sm,useContext:ut,useEffect:ih,useImperativeHandle:Em,useInsertionEffect:ym,useLayoutEffect:Cm,useMemo:Tm,useReducer:xu,useRef:vm,useState:function(){return xu(es)},useDebugValue:sh,useDeferredValue:function(e){var t=at();return ce===null?t.memoizedState=e:Im(t,ce.memoizedState,e)},useTransition:function(){var e=xu(es)[0],t=at().memoizedState;return[e,t]},useMutableSource:hm,useSyncExternalStore:dm,useId:km,unstable_isNewReconciler:!1};function Fr(e,t){try{var n="",r=t;do n+=fv(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Ru(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function Da(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var By=typeof WeakMap=="function"?WeakMap:Map;function Pm(e,t,n){n=Ut(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){jo||(jo=!0,Ha=r),Da(e,t)},n}function Am(e,t,n){n=Ut(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Da(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Da(e,t),typeof r!="function"&&(cn===null?cn=new Set([this]):cn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ef(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new By;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=e2.bind(null,e,t,n),t.then(e,e))}function Sf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Tf(e,t,n,r,i){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ut(-1,1),t.tag=2,an(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var jy=Kt.ReactCurrentOwner,He=!1;function Me(e,t,n,r){t.child=e===null?am(t,null,n,r):Or(t,e.child,n,r)}function If(e,t,n,r,i){n=n.render;var s=t.ref;return Tr(t,i),r=nh(e,t,n,r,s,i),n=rh(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,bt(e,t,i)):(X&&n&&Wc(t),t.flags|=1,Me(e,t,r,i),t.child)}function kf(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!fh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Dm(e,t,s,r,i)):(e=Co(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,(e.lanes&i)===0){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ki,n(o,r)&&e.ref===t.ref)return bt(e,t,i)}return t.flags|=1,e=dn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Dm(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Ki(s,r)&&e.ref===t.ref)if(He=!1,t.pendingProps=r=s,(e.lanes&i)!==0)(e.flags&131072)!==0&&(He=!0);else return t.lanes=e.lanes,bt(e,t,i)}return La(e,t,n,r,i)}function Lm(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(_r,qe),qe|=n;else{if((n&1073741824)===0)return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,K(_r,qe),qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,K(_r,qe),qe|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,K(_r,qe),qe|=r;return Me(e,t,i,n),t.child}function Om(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function La(e,t,n,r,i){var s=Ge(n)?Wn:Oe.current;return s=Dr(t,s),Tr(t,i),n=nh(e,t,n,r,s,i),r=rh(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,bt(e,t,i)):(X&&r&&Wc(t),t.flags|=1,Me(e,t,n,i),t.child)}function Nf(e,t,n,r,i){if(Ge(n)){var s=!0;Ao(t)}else s=!1;if(Tr(t,i),t.stateNode===null)_o(e,t),lm(t,n,r),Aa(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,a=n.contextType;typeof a=="object"&&a!==null?a=ut(a):(a=Ge(n)?Wn:Oe.current,a=Dr(t,a));var h=n.getDerivedStateFromProps,c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==a)&&vf(t,o,r,a),Jt=!1;var d=t.memoizedState;o.state=d,Fo(t,r,o,i),u=t.memoizedState,l!==r||d!==u||Ve.current||Jt?(typeof h=="function"&&(Pa(t,n,h,r),u=t.memoizedState),(l=Jt||_f(t,n,l,r,d,u,a))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=a,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,sm(e,t),l=t.memoizedProps,a=t.type===t.elementType?l:ft(t.type,l),o.props=a,c=t.pendingProps,d=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=ut(u):(u=Ge(n)?Wn:Oe.current,u=Dr(t,u));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||d!==u)&&vf(t,o,r,u),Jt=!1,d=t.memoizedState,o.state=d,Fo(t,r,o,i);var _=t.memoizedState;l!==c||d!==_||Ve.current||Jt?(typeof m=="function"&&(Pa(t,n,m,r),_=t.memoizedState),(a=Jt||_f(t,n,a,r,d,_,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=_),o.props=r,o.state=_,o.context=u,r=a):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Oa(e,t,n,r,s,i)}function Oa(e,t,n,r,i,s){Om(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&df(t,n,!1),bt(e,t,s);r=t.stateNode,jy.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Or(t,e.child,null,s),t.child=Or(t,null,l,s)):Me(e,t,l,s),t.memoizedState=r.state,i&&df(t,n,!0),t.child}function Mm(e){var t=e.stateNode;t.pendingContext?hf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hf(e,t.context,!1),Jc(e,t.containerInfo)}function xf(e,t,n,r,i){return Lr(),Gc(i),t.flags|=256,Me(e,t,n,r),t.child}var Ma={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fm(e,t,n){var r=t.pendingProps,i=Z.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),K(Z,i&1),e===null)return xa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=kl(o,r,0,null),e=jn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fa(n),t.memoizedState=Ma,e):oh(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Hy(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var u={mode:"hidden",children:r.children};return(o&1)===0&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=dn(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=dn(l,s):(s=jn(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Fa(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Ma,r}return s=e.child,e=s.sibling,r=dn(s,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function oh(e,t){return t=kl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zs(e,t,n,r){return r!==null&&Gc(r),Or(t,e.child,null,n),e=oh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hy(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Ru(Error(C(422))),Zs(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=kl({mode:"visible",children:r.children},i,0,null),s=jn(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,(t.mode&1)!==0&&Or(t,e.child,null,o),t.child.memoizedState=Fa(o),t.memoizedState=Ma,s);if((t.mode&1)===0)return Zs(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(C(419)),r=Ru(s,r,void 0),Zs(e,t,o,r)}if(l=(o&e.childLanes)!==0,He||l){if(r=ve,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|o))!==0?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ht(e,i),Ct(r,e,i,-1))}return dh(),r=Ru(Error(C(421))),Zs(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=t2.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Xe=un(i.nextSibling),Ze=t,X=!0,gt=null,e!==null&&(it[st++]=Ot,it[st++]=Mt,it[st++]=Vn,Ot=e.id,Mt=e.overflow,Vn=t),t=oh(t,r.children),t.flags|=4096,t)}function Rf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ra(e.return,t,n)}function Pu(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function $m(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Me(e,t,r.children,n),r=Z.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rf(e,n,t);else if(e.tag===19)Rf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(K(Z,r),(t.mode&1)===0)t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&$o(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Pu(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&$o(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Pu(t,!0,n,null,s);break;case"together":Pu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _o(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function by(e,t,n){switch(t.tag){case 3:Mm(t),Lr();break;case 5:cm(t);break;case 1:Ge(t.type)&&Ao(t);break;case 4:Jc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;K(Oo,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(K(Z,Z.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Fm(e,t,n):(K(Z,Z.current&1),e=bt(e,t,n),e!==null?e.sibling:null);K(Z,Z.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return $m(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),K(Z,Z.current),r)break;return null;case 22:case 23:return t.lanes=0,Lm(e,t,n)}return bt(e,t,n)}var Um,$a,zm,Bm;Um=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$a=function(){};zm=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Mn(xt.current);var s=null;switch(n){case"input":i=sa(e,i),r=sa(e,r),s=[];break;case"select":i=ne({},i,{value:void 0}),r=ne({},r,{value:void 0}),s=[];break;case"textarea":i=ua(e,i),r=ua(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ro)}ca(n,r);var o;n=null;for(a in i)if(!r.hasOwnProperty(a)&&i.hasOwnProperty(a)&&i[a]!=null)if(a==="style"){var l=i[a];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Bi.hasOwnProperty(a)?s||(s=[]):(s=s||[]).push(a,null));for(a in r){var u=r[a];if(l=i!=null?i[a]:void 0,r.hasOwnProperty(a)&&u!==l&&(u!=null||l!=null))if(a==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(a,n)),n=u;else a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(a,u)):a==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(a,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(Bi.hasOwnProperty(a)?(u!=null&&a==="onScroll"&&Q("scroll",e),s||l===u||(s=[])):(s=s||[]).push(a,u))}n&&(s=s||[]).push("style",n);var a=s;(t.updateQueue=a)&&(t.flags|=4)}};Bm=function(e,t,n,r){n!==r&&(t.flags|=4)};function ci(e,t){if(!X)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wy(e,t,n){var r=t.pendingProps;switch(Vc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(t),null;case 1:return Ge(t.type)&&Po(),xe(t),null;case 3:return r=t.stateNode,Mr(),q(Ve),q(Oe),eh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Xs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,gt!==null&&(Va(gt),gt=null))),$a(e,t),xe(t),null;case 5:Zc(t);var i=Mn(Ji.current);if(n=t.type,e!==null&&t.stateNode!=null)zm(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(C(166));return xe(t),null}if(e=Mn(xt.current),Xs(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[It]=t,r[qi]=s,e=(t.mode&1)!==0,n){case"dialog":Q("cancel",r),Q("close",r);break;case"iframe":case"object":case"embed":Q("load",r);break;case"video":case"audio":for(i=0;i<wi.length;i++)Q(wi[i],r);break;case"source":Q("error",r);break;case"img":case"image":case"link":Q("error",r),Q("load",r);break;case"details":Q("toggle",r);break;case"input":$d(r,s),Q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Q("invalid",r);break;case"textarea":zd(r,s),Q("invalid",r)}ca(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&qs(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&qs(r.textContent,l,e),i=["children",""+l]):Bi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Q("scroll",r)}switch(n){case"input":Hs(r),Ud(r,s,!0);break;case"textarea":Hs(r),Bd(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ro)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[It]=t,e[qi]=r,Um(e,t,!1,!1),t.stateNode=e;e:{switch(o=ha(n,r),n){case"dialog":Q("cancel",e),Q("close",e),i=r;break;case"iframe":case"object":case"embed":Q("load",e),i=r;break;case"video":case"audio":for(i=0;i<wi.length;i++)Q(wi[i],e);i=r;break;case"source":Q("error",e),i=r;break;case"img":case"image":case"link":Q("error",e),Q("load",e),i=r;break;case"details":Q("toggle",e),i=r;break;case"input":$d(e,r),i=sa(e,r),Q("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ne({},r,{value:void 0}),Q("invalid",e);break;case"textarea":zd(e,r),i=ua(e,r),Q("invalid",e);break;default:i=r}ca(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?mg(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&pg(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ji(e,u):typeof u=="number"&&ji(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Bi.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Q("scroll",e):u!=null&&Pc(e,s,u,o))}switch(n){case"input":Hs(e),Ud(e,r,!1);break;case"textarea":Hs(e),Bd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_n(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Cr(e,!!r.multiple,s,!1):r.defaultValue!=null&&Cr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ro)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xe(t),null;case 6:if(e&&t.stateNode!=null)Bm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(C(166));if(n=Mn(Ji.current),Mn(xt.current),Xs(t)){if(r=t.stateNode,n=t.memoizedProps,r[It]=t,(s=r.nodeValue!==n)&&(e=Ze,e!==null))switch(e.tag){case 3:qs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qs(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[It]=t,t.stateNode=r}return xe(t),null;case 13:if(q(Z),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(X&&Xe!==null&&(t.mode&1)!==0&&(t.flags&128)===0)rm(),Lr(),t.flags|=98560,s=!1;else if(s=Xs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(C(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(C(317));s[It]=t}else Lr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;xe(t),s=!1}else gt!==null&&(Va(gt),gt=null),s=!0;if(!s)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Z.current&1)!==0?de===0&&(de=3):dh())),t.updateQueue!==null&&(t.flags|=4),xe(t),null);case 4:return Mr(),$a(e,t),e===null&&Qi(t.stateNode.containerInfo),xe(t),null;case 10:return Yc(t.type._context),xe(t),null;case 17:return Ge(t.type)&&Po(),xe(t),null;case 19:if(q(Z),s=t.memoizedState,s===null)return xe(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)ci(s,!1);else{if(de!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=$o(e),o!==null){for(t.flags|=128,ci(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return K(Z,Z.current&1|2),t.child}e=e.sibling}s.tail!==null&&le()>$r&&(t.flags|=128,r=!0,ci(s,!1),t.lanes=4194304)}else{if(!r)if(e=$o(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ci(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!X)return xe(t),null}else 2*le()-s.renderingStartTime>$r&&n!==1073741824&&(t.flags|=128,r=!0,ci(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=le(),t.sibling=null,n=Z.current,K(Z,r?n&1|2:n&1),t):(xe(t),null);case 22:case 23:return hh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(qe&1073741824)!==0&&(xe(t),t.subtreeFlags&6&&(t.flags|=8192)):xe(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function Vy(e,t){switch(Vc(t),t.tag){case 1:return Ge(t.type)&&Po(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mr(),q(Ve),q(Oe),eh(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Zc(t),null;case 13:if(q(Z),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));Lr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(Z),null;case 4:return Mr(),null;case 10:return Yc(t.type._context),null;case 22:case 23:return hh(),null;case 24:return null;default:return null}}var eo=!1,Pe=!1,Gy=typeof WeakSet=="function"?WeakSet:Set,S=null;function mr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){re(e,t,r)}else n.current=null}function Ua(e,t,n){try{n()}catch(r){re(e,t,r)}}var Pf=!1;function Ky(e,t){if(wa=ko,e=Wg(),bc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,a=0,h=0,c=e,d=null;t:for(;;){for(var m;c!==n||i!==0&&c.nodeType!==3||(l=o+i),c!==s||r!==0&&c.nodeType!==3||(u=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(m=c.firstChild)!==null;)d=c,c=m;for(;;){if(c===e)break t;if(d===n&&++a===i&&(l=o),d===s&&++h===r&&(u=o),(m=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=m}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ea={focusedElem:e,selectionRange:n},ko=!1,S=t;S!==null;)if(t=S,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,S=e;else for(;S!==null;){t=S;try{var _=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,D=_.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:ft(t.type,v),D);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(y){re(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,S=e;break}S=t.return}return _=Pf,Pf=!1,_}function Ai(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ua(t,n,s)}i=i.next}while(i!==r)}}function Tl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function za(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function jm(e){var t=e.alternate;t!==null&&(e.alternate=null,jm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[It],delete t[qi],delete t[Ia],delete t[Ry],delete t[Py])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Hm(e){return e.tag===5||e.tag===3||e.tag===4}function Af(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ba(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ro));else if(r!==4&&(e=e.child,e!==null))for(Ba(e,t,n),e=e.sibling;e!==null;)Ba(e,t,n),e=e.sibling}function ja(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ja(e,t,n),e=e.sibling;e!==null;)ja(e,t,n),e=e.sibling}var Ce=null,pt=!1;function qt(e,t,n){for(n=n.child;n!==null;)bm(e,t,n),n=n.sibling}function bm(e,t,n){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(ml,n)}catch{}switch(n.tag){case 5:Pe||mr(n,t);case 6:var r=Ce,i=pt;Ce=null,qt(e,t,n),Ce=r,pt=i,Ce!==null&&(pt?(e=Ce,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ce.removeChild(n.stateNode));break;case 18:Ce!==null&&(pt?(e=Ce,n=n.stateNode,e.nodeType===8?Su(e.parentNode,n):e.nodeType===1&&Su(e,n),Vi(e)):Su(Ce,n.stateNode));break;case 4:r=Ce,i=pt,Ce=n.stateNode.containerInfo,pt=!0,qt(e,t,n),Ce=r,pt=i;break;case 0:case 11:case 14:case 15:if(!Pe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&Ua(n,t,o),i=i.next}while(i!==r)}qt(e,t,n);break;case 1:if(!Pe&&(mr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){re(n,t,l)}qt(e,t,n);break;case 21:qt(e,t,n);break;case 22:n.mode&1?(Pe=(r=Pe)||n.memoizedState!==null,qt(e,t,n),Pe=r):qt(e,t,n);break;default:qt(e,t,n)}}function Df(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Gy),t.forEach(function(r){var i=n2.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function dt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ce=l.stateNode,pt=!1;break e;case 3:Ce=l.stateNode.containerInfo,pt=!0;break e;case 4:Ce=l.stateNode.containerInfo,pt=!0;break e}l=l.return}if(Ce===null)throw Error(C(160));bm(s,o,i),Ce=null,pt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(a){re(i,t,a)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Wm(t,e),t=t.sibling}function Wm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dt(t,e),St(e),r&4){try{Ai(3,e,e.return),Tl(3,e)}catch(v){re(e,e.return,v)}try{Ai(5,e,e.return)}catch(v){re(e,e.return,v)}}break;case 1:dt(t,e),St(e),r&512&&n!==null&&mr(n,n.return);break;case 5:if(dt(t,e),St(e),r&512&&n!==null&&mr(n,n.return),e.flags&32){var i=e.stateNode;try{ji(i,"")}catch(v){re(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&hg(i,s),ha(l,o);var a=ha(l,s);for(o=0;o<u.length;o+=2){var h=u[o],c=u[o+1];h==="style"?mg(i,c):h==="dangerouslySetInnerHTML"?pg(i,c):h==="children"?ji(i,c):Pc(i,h,c,a)}switch(l){case"input":oa(i,s);break;case"textarea":dg(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Cr(i,!!s.multiple,m,!1):d!==!!s.multiple&&(s.defaultValue!=null?Cr(i,!!s.multiple,s.defaultValue,!0):Cr(i,!!s.multiple,s.multiple?[]:"",!1))}i[qi]=s}catch(v){re(e,e.return,v)}}break;case 6:if(dt(t,e),St(e),r&4){if(e.stateNode===null)throw Error(C(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){re(e,e.return,v)}}break;case 3:if(dt(t,e),St(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vi(t.containerInfo)}catch(v){re(e,e.return,v)}break;case 4:dt(t,e),St(e);break;case 13:dt(t,e),St(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ah=le())),r&4&&Df(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Pe=(a=Pe)||h,dt(t,e),Pe=a):dt(t,e),St(e),r&8192){if(a=e.memoizedState!==null,(e.stateNode.isHidden=a)&&!h&&(e.mode&1)!==0)for(S=e,h=e.child;h!==null;){for(c=S=h;S!==null;){switch(d=S,m=d.child,d.tag){case 0:case 11:case 14:case 15:Ai(4,d,d.return);break;case 1:mr(d,d.return);var _=d.stateNode;if(typeof _.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(v){re(r,n,v)}}break;case 5:mr(d,d.return);break;case 22:if(d.memoizedState!==null){Of(c);continue}}m!==null?(m.return=d,S=m):Of(c)}h=h.sibling}e:for(h=null,c=e;;){if(c.tag===5){if(h===null){h=c;try{i=c.stateNode,a?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=c.stateNode,u=c.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=gg("display",o))}catch(v){re(e,e.return,v)}}}else if(c.tag===6){if(h===null)try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(v){re(e,e.return,v)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:dt(t,e),St(e),r&4&&Df(e);break;case 21:break;default:dt(t,e),St(e)}}function St(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Hm(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ji(i,""),r.flags&=-33);var s=Af(e);ja(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Af(e);Ba(e,l,o);break;default:throw Error(C(161))}}catch(u){re(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qy(e,t,n){S=e,Vm(e)}function Vm(e,t,n){for(var r=(e.mode&1)!==0;S!==null;){var i=S,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||eo;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Pe;l=eo;var a=Pe;if(eo=o,(Pe=u)&&!a)for(S=i;S!==null;)o=S,u=o.child,o.tag===22&&o.memoizedState!==null?Mf(i):u!==null?(u.return=o,S=u):Mf(i);for(;s!==null;)S=s,Vm(s),s=s.sibling;S=i,eo=l,Pe=a}Lf(e)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,S=s):Lf(e)}}function Lf(e){for(;S!==null;){var t=S;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Pe||Tl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Pe)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ft(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&mf(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}mf(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var a=t.alternate;if(a!==null){var h=a.memoizedState;if(h!==null){var c=h.dehydrated;c!==null&&Vi(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Pe||t.flags&512&&za(t)}catch(d){re(t,t.return,d)}}if(t===e){S=null;break}if(n=t.sibling,n!==null){n.return=t.return,S=n;break}S=t.return}}function Of(e){for(;S!==null;){var t=S;if(t===e){S=null;break}var n=t.sibling;if(n!==null){n.return=t.return,S=n;break}S=t.return}}function Mf(e){for(;S!==null;){var t=S;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Tl(4,t)}catch(u){re(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){re(t,i,u)}}var s=t.return;try{za(t)}catch(u){re(t,s,u)}break;case 5:var o=t.return;try{za(t)}catch(u){re(t,o,u)}}}catch(u){re(t,t.return,u)}if(t===e){S=null;break}var l=t.sibling;if(l!==null){l.return=t.return,S=l;break}S=t.return}}var Yy=Math.ceil,Bo=Kt.ReactCurrentDispatcher,lh=Kt.ReactCurrentOwner,lt=Kt.ReactCurrentBatchConfig,j=0,ve=null,ae=null,Se=0,qe=0,_r=Sn(0),de=0,ns=null,Kn=0,Il=0,uh=0,Di=null,je=null,ah=0,$r=1/0,Dt=null,jo=!1,Ha=null,cn=null,to=!1,rn=null,Ho=0,Li=0,ba=null,vo=-1,yo=0;function $e(){return(j&6)!==0?le():vo!==-1?vo:vo=le()}function hn(e){return(e.mode&1)===0?1:(j&2)!==0&&Se!==0?Se&-Se:Dy.transition!==null?(yo===0&&(yo=xg()),yo):(e=b,e!==0||(e=window.event,e=e===void 0?16:Mg(e.type)),e)}function Ct(e,t,n,r){if(50<Li)throw Li=0,ba=null,Error(C(185));Cs(e,n,r),((j&2)===0||e!==ve)&&(e===ve&&((j&2)===0&&(Il|=n),de===4&&en(e,Se)),Ke(e,r),n===1&&j===0&&(t.mode&1)===0&&($r=le()+500,wl&&Tn()))}function Ke(e,t){var n=e.callbackNode;Dv(e,t);var r=Io(e,e===ve?Se:0);if(r===0)n!==null&&bd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&bd(n),t===1)e.tag===0?Ay(Ff.bind(null,e)):em(Ff.bind(null,e)),Ny(function(){(j&6)===0&&Tn()}),n=null;else{switch(Rg(r)){case 1:n=Mc;break;case 4:n=kg;break;case 16:n=To;break;case 536870912:n=Ng;break;default:n=To}n=Zm(n,Gm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Gm(e,t){if(vo=-1,yo=0,(j&6)!==0)throw Error(C(327));var n=e.callbackNode;if(Ir()&&e.callbackNode!==n)return null;var r=Io(e,e===ve?Se:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=bo(e,r);else{t=r;var i=j;j|=2;var s=Qm();(ve!==e||Se!==t)&&(Dt=null,$r=le()+500,Bn(e,t));do try{Jy();break}catch(l){Km(e,l)}while(1);Qc(),Bo.current=s,j=i,ae!==null?t=0:(ve=null,Se=0,t=de)}if(t!==0){if(t===2&&(i=ma(e),i!==0&&(r=i,t=Wa(e,i))),t===1)throw n=ns,Bn(e,0),en(e,r),Ke(e,le()),n;if(t===6)en(e,r);else{if(i=e.current.alternate,(r&30)===0&&!qy(i)&&(t=bo(e,r),t===2&&(s=ma(e),s!==0&&(r=s,t=Wa(e,s))),t===1))throw n=ns,Bn(e,0),en(e,r),Ke(e,le()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(C(345));case 2:Pn(e,je,Dt);break;case 3:if(en(e,r),(r&130023424)===r&&(t=ah+500-le(),10<t)){if(Io(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){$e(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ta(Pn.bind(null,e,je,Dt),t);break}Pn(e,je,Dt);break;case 4:if(en(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-yt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Yy(r/1960))-r,10<r){e.timeoutHandle=Ta(Pn.bind(null,e,je,Dt),r);break}Pn(e,je,Dt);break;case 5:Pn(e,je,Dt);break;default:throw Error(C(329))}}}return Ke(e,le()),e.callbackNode===n?Gm.bind(null,e):null}function Wa(e,t){var n=Di;return e.current.memoizedState.isDehydrated&&(Bn(e,t).flags|=256),e=bo(e,t),e!==2&&(t=je,je=n,t!==null&&Va(t)),e}function Va(e){je===null?je=e:je.push.apply(je,e)}function qy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Et(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function en(e,t){for(t&=~uh,t&=~Il,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-yt(t),r=1<<n;e[n]=-1,t&=~r}}function Ff(e){if((j&6)!==0)throw Error(C(327));Ir();var t=Io(e,0);if((t&1)===0)return Ke(e,le()),null;var n=bo(e,t);if(e.tag!==0&&n===2){var r=ma(e);r!==0&&(t=r,n=Wa(e,r))}if(n===1)throw n=ns,Bn(e,0),en(e,t),Ke(e,le()),n;if(n===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pn(e,je,Dt),Ke(e,le()),null}function ch(e,t){var n=j;j|=1;try{return e(t)}finally{j=n,j===0&&($r=le()+500,wl&&Tn())}}function Qn(e){rn!==null&&rn.tag===0&&(j&6)===0&&Ir();var t=j;j|=1;var n=lt.transition,r=b;try{if(lt.transition=null,b=1,e)return e()}finally{b=r,lt.transition=n,j=t,(j&6)===0&&Tn()}}function hh(){qe=_r.current,q(_r)}function Bn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ky(n)),ae!==null)for(n=ae.return;n!==null;){var r=n;switch(Vc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Po();break;case 3:Mr(),q(Ve),q(Oe),eh();break;case 5:Zc(r);break;case 4:Mr();break;case 13:q(Z);break;case 19:q(Z);break;case 10:Yc(r.type._context);break;case 22:case 23:hh()}n=n.return}if(ve=e,ae=e=dn(e.current,null),Se=qe=t,de=0,ns=null,uh=Il=Kn=0,je=Di=null,On!==null){for(t=0;t<On.length;t++)if(n=On[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}On=null}return e}function Km(e,t){do{var n=ae;try{if(Qc(),go.current=zo,Uo){for(var r=te.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Uo=!1}if(Gn=0,ge=ce=te=null,Pi=!1,Zi=0,lh.current=null,n===null||n.return===null){de=1,ns=t,ae=null;break}e:{var s=e,o=n.return,l=n,u=t;if(t=Se,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var a=u,h=l,c=h.tag;if((h.mode&1)===0&&(c===0||c===11||c===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=Sf(o);if(m!==null){m.flags&=-257,Tf(m,o,l,s,t),m.mode&1&&Ef(s,a,t),t=m,u=a;var _=t.updateQueue;if(_===null){var v=new Set;v.add(u),t.updateQueue=v}else _.add(u);break e}else{if((t&1)===0){Ef(s,a,t),dh();break e}u=Error(C(426))}}else if(X&&l.mode&1){var D=Sf(o);if(D!==null){(D.flags&65536)===0&&(D.flags|=256),Tf(D,o,l,s,t),Gc(Fr(u,l));break e}}s=u=Fr(u,l),de!==4&&(de=2),Di===null?Di=[s]:Di.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=Pm(s,u,t);gf(s,p);break e;case 1:l=u;var f=s.type,g=s.stateNode;if((s.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(cn===null||!cn.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var y=Am(s,l,t);gf(s,y);break e}}s=s.return}while(s!==null)}qm(n)}catch(T){t=T,ae===n&&n!==null&&(ae=n=n.return);continue}break}while(1)}function Qm(){var e=Bo.current;return Bo.current=zo,e===null?zo:e}function dh(){(de===0||de===3||de===2)&&(de=4),ve===null||(Kn&268435455)===0&&(Il&268435455)===0||en(ve,Se)}function bo(e,t){var n=j;j|=2;var r=Qm();(ve!==e||Se!==t)&&(Dt=null,Bn(e,t));do try{Xy();break}catch(i){Km(e,i)}while(1);if(Qc(),j=n,Bo.current=r,ae!==null)throw Error(C(261));return ve=null,Se=0,de}function Xy(){for(;ae!==null;)Ym(ae)}function Jy(){for(;ae!==null&&!Sv();)Ym(ae)}function Ym(e){var t=Jm(e.alternate,e,qe);e.memoizedProps=e.pendingProps,t===null?qm(e):ae=t,lh.current=null}function qm(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Wy(n,t,qe),n!==null){ae=n;return}}else{if(n=Vy(n,t),n!==null){n.flags&=32767,ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{de=6,ae=null;return}}if(t=t.sibling,t!==null){ae=t;return}ae=t=e}while(t!==null);de===0&&(de=5)}function Pn(e,t,n){var r=b,i=lt.transition;try{lt.transition=null,b=1,Zy(e,t,n,r)}finally{lt.transition=i,b=r}return null}function Zy(e,t,n,r){do Ir();while(rn!==null);if((j&6)!==0)throw Error(C(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Lv(e,s),e===ve&&(ae=ve=null,Se=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||to||(to=!0,Zm(To,function(){return Ir(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=lt.transition,lt.transition=null;var o=b;b=1;var l=j;j|=4,lh.current=null,Ky(e,n),Wm(n,e),yy(Ea),ko=!!wa,Ea=wa=null,e.current=n,Qy(n),Tv(),j=l,b=o,lt.transition=s}else e.current=n;if(to&&(to=!1,rn=e,Ho=i),s=e.pendingLanes,s===0&&(cn=null),Nv(n.stateNode),Ke(e,le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(jo)throw jo=!1,e=Ha,Ha=null,e;return(Ho&1)!==0&&e.tag!==0&&Ir(),s=e.pendingLanes,(s&1)!==0?e===ba?Li++:(Li=0,ba=e):Li=0,Tn(),null}function Ir(){if(rn!==null){var e=Rg(Ho),t=lt.transition,n=b;try{if(lt.transition=null,b=16>e?16:e,rn===null)var r=!1;else{if(e=rn,rn=null,Ho=0,(j&6)!==0)throw Error(C(331));var i=j;for(j|=4,S=e.current;S!==null;){var s=S,o=s.child;if((S.flags&16)!==0){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var a=l[u];for(S=a;S!==null;){var h=S;switch(h.tag){case 0:case 11:case 15:Ai(8,h,s)}var c=h.child;if(c!==null)c.return=h,S=c;else for(;S!==null;){h=S;var d=h.sibling,m=h.return;if(jm(h),h===a){S=null;break}if(d!==null){d.return=m,S=d;break}S=m}}}var _=s.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var D=v.sibling;v.sibling=null,v=D}while(v!==null)}}S=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,S=o;else e:for(;S!==null;){if(s=S,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:Ai(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,S=p;break e}S=s.return}}var f=e.current;for(S=f;S!==null;){o=S;var g=o.child;if((o.subtreeFlags&2064)!==0&&g!==null)g.return=o,S=g;else e:for(o=f;S!==null;){if(l=S,(l.flags&2048)!==0)try{switch(l.tag){case 0:case 11:case 15:Tl(9,l)}}catch(T){re(l,l.return,T)}if(l===o){S=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,S=y;break e}S=l.return}}if(j=i,Tn(),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(ml,e)}catch{}r=!0}return r}finally{b=n,lt.transition=t}}return!1}function $f(e,t,n){t=Fr(n,t),t=Pm(e,t,1),e=an(e,t,1),t=$e(),e!==null&&(Cs(e,1,t),Ke(e,t))}function re(e,t,n){if(e.tag===3)$f(e,e,n);else for(;t!==null;){if(t.tag===3){$f(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cn===null||!cn.has(r))){e=Fr(n,e),e=Am(t,e,1),t=an(t,e,1),e=$e(),t!==null&&(Cs(t,1,e),Ke(t,e));break}}t=t.return}}function e2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=$e(),e.pingedLanes|=e.suspendedLanes&n,ve===e&&(Se&n)===n&&(de===4||de===3&&(Se&130023424)===Se&&500>le()-ah?Bn(e,0):uh|=n),Ke(e,t)}function Xm(e,t){t===0&&((e.mode&1)===0?t=1:(t=Vs,Vs<<=1,(Vs&130023424)===0&&(Vs=4194304)));var n=$e();e=Ht(e,t),e!==null&&(Cs(e,t,n),Ke(e,n))}function t2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Xm(e,n)}function n2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(t),Xm(e,n)}var Jm;Jm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ve.current)He=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return He=!1,by(e,t,n);He=(e.flags&131072)!==0}else He=!1,X&&(t.flags&1048576)!==0&&tm(t,Lo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;_o(e,t),e=t.pendingProps;var i=Dr(t,Oe.current);Tr(t,n),i=nh(null,t,r,e,i,n);var s=rh();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ge(r)?(s=!0,Ao(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xc(t),i.updater=El,t.stateNode=i,i._reactInternals=t,Aa(t,r,e,n),t=Oa(null,t,r,!0,s,n)):(t.tag=0,X&&s&&Wc(t),Me(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(_o(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=i2(r),e=ft(r,e),i){case 0:t=La(null,t,r,e,n);break e;case 1:t=Nf(null,t,r,e,n);break e;case 11:t=If(null,t,r,e,n);break e;case 14:t=kf(null,t,r,ft(r.type,e),n);break e}throw Error(C(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ft(r,i),La(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ft(r,i),Nf(e,t,r,i,n);case 3:e:{if(Mm(t),e===null)throw Error(C(387));r=t.pendingProps,s=t.memoizedState,i=s.element,sm(e,t),Fo(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Fr(Error(C(423)),t),t=xf(e,t,r,n,i);break e}else if(r!==i){i=Fr(Error(C(424)),t),t=xf(e,t,r,n,i);break e}else for(Xe=un(t.stateNode.containerInfo.firstChild),Ze=t,X=!0,gt=null,n=am(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Lr(),r===i){t=bt(e,t,n);break e}Me(e,t,r,n)}t=t.child}return t;case 5:return cm(t),e===null&&xa(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Sa(r,i)?o=null:s!==null&&Sa(r,s)&&(t.flags|=32),Om(e,t),Me(e,t,o,n),t.child;case 6:return e===null&&xa(t),null;case 13:return Fm(e,t,n);case 4:return Jc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Or(t,null,r,n):Me(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ft(r,i),If(e,t,r,i,n);case 7:return Me(e,t,t.pendingProps,n),t.child;case 8:return Me(e,t,t.pendingProps.children,n),t.child;case 12:return Me(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,K(Oo,r._currentValue),r._currentValue=o,s!==null)if(Et(s.value,o)){if(s.children===i.children&&!Ve.current){t=bt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Ut(-1,n&-n),u.tag=2;var a=s.updateQueue;if(a!==null){a=a.shared;var h=a.pending;h===null?u.next=u:(u.next=h.next,h.next=u),a.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Ra(s.return,n,t),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(C(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ra(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Me(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Tr(t,n),i=ut(i),r=r(i),t.flags|=1,Me(e,t,r,n),t.child;case 14:return r=t.type,i=ft(r,t.pendingProps),i=ft(r.type,i),kf(e,t,r,i,n);case 15:return Dm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ft(r,i),_o(e,t),t.tag=1,Ge(r)?(e=!0,Ao(t)):e=!1,Tr(t,n),lm(t,r,i),Aa(t,r,i,n),Oa(null,t,r,!0,e,n);case 19:return $m(e,t,n);case 22:return Lm(e,t,n)}throw Error(C(156,t.tag))};function Zm(e,t){return Ig(e,t)}function r2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,n,r){return new r2(e,t,n,r)}function fh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function i2(e){if(typeof e=="function")return fh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Dc)return 11;if(e===Lc)return 14}return 2}function dn(e,t){var n=e.alternate;return n===null?(n=ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Co(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")fh(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case lr:return jn(n.children,i,s,t);case Ac:o=8,i|=8;break;case ta:return e=ot(12,n,t,i|2),e.elementType=ta,e.lanes=s,e;case na:return e=ot(13,n,t,i),e.elementType=na,e.lanes=s,e;case ra:return e=ot(19,n,t,i),e.elementType=ra,e.lanes=s,e;case ug:return kl(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case og:o=10;break e;case lg:o=9;break e;case Dc:o=11;break e;case Lc:o=14;break e;case Xt:o=16,r=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=ot(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function jn(e,t,n,r){return e=ot(7,e,r,t),e.lanes=n,e}function kl(e,t,n,r){return e=ot(22,e,r,t),e.elementType=ug,e.lanes=n,e.stateNode={isHidden:!1},e}function Au(e,t,n){return e=ot(6,e,null,t),e.lanes=n,e}function Du(e,t,n){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function s2(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=du(0),this.expirationTimes=du(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=du(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ph(e,t,n,r,i,s,o,l,u){return e=new s2(e,t,n,l,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ot(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xc(s),e}function o2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:or,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function e1(e){if(!e)return vn;e=e._reactInternals;e:{if(tr(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ge(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var n=e.type;if(Ge(n))return Zg(e,n,t)}return t}function t1(e,t,n,r,i,s,o,l,u){return e=ph(n,r,!0,e,i,s,o,l,u),e.context=e1(null),n=e.current,r=$e(),i=hn(n),s=Ut(r,i),s.callback=t!=null?t:null,an(n,s,i),e.current.lanes=i,Cs(e,i,r),Ke(e,r),e}function Nl(e,t,n,r){var i=t.current,s=$e(),o=hn(i);return n=e1(n),t.context===null?t.context=n:t.pendingContext=n,t=Ut(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=an(i,t,o),e!==null&&(Ct(e,i,o,s),po(e,i,o)),o}function Wo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Uf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gh(e,t){Uf(e,t),(e=e.alternate)&&Uf(e,t)}function l2(){return null}var n1=typeof reportError=="function"?reportError:function(e){console.error(e)};function mh(e){this._internalRoot=e}xl.prototype.render=mh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));Nl(e,t,null,null)};xl.prototype.unmount=mh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qn(function(){Nl(null,e,null,null)}),t[jt]=null}};function xl(e){this._internalRoot=e}xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zt.length&&t!==0&&t<Zt[n].priority;n++);Zt.splice(n,0,e),n===0&&Og(e)}};function _h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zf(){}function u2(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var a=Wo(o);s.call(a)}}var o=t1(t,r,e,0,null,!1,!1,"",zf);return e._reactRootContainer=o,e[jt]=o.current,Qi(e.nodeType===8?e.parentNode:e),Qn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var a=Wo(u);l.call(a)}}var u=ph(e,0,!1,null,null,!1,!1,"",zf);return e._reactRootContainer=u,e[jt]=u.current,Qi(e.nodeType===8?e.parentNode:e),Qn(function(){Nl(t,u,n,r)}),u}function Pl(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=Wo(o);l.call(u)}}Nl(t,o,e,i)}else o=u2(n,t,e,i,r);return Wo(o)}Pg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ci(t.pendingLanes);n!==0&&(Fc(t,n|1),Ke(t,le()),(j&6)===0&&($r=le()+500,Tn()))}break;case 13:Qn(function(){var r=Ht(e,1);if(r!==null){var i=$e();Ct(r,e,1,i)}}),gh(e,1)}};$c=function(e){if(e.tag===13){var t=Ht(e,134217728);if(t!==null){var n=$e();Ct(t,e,134217728,n)}gh(e,134217728)}};Ag=function(e){if(e.tag===13){var t=hn(e),n=Ht(e,t);if(n!==null){var r=$e();Ct(n,e,t,r)}gh(e,t)}};Dg=function(){return b};Lg=function(e,t){var n=b;try{return b=e,t()}finally{b=n}};fa=function(e,t,n){switch(t){case"input":if(oa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Cl(r);if(!i)throw Error(C(90));cg(r),oa(r,i)}}}break;case"textarea":dg(e,n);break;case"select":t=n.value,t!=null&&Cr(e,!!n.multiple,t,!1)}};yg=ch;Cg=Qn;var a2={usingClientEntryPoint:!1,Events:[Es,hr,Cl,_g,vg,ch]},hi={findFiberByHostInstance:Ln,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},c2={bundleType:hi.bundleType,version:hi.version,rendererPackageName:hi.rendererPackageName,rendererConfig:hi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sg(e),e===null?null:e.stateNode},findFiberByHostInstance:hi.findFiberByHostInstance||l2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var no=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!no.isDisabled&&no.supportsFiber)try{ml=no.inject(c2),Nt=no}catch{}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a2;nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_h(t))throw Error(C(200));return o2(e,t,null,n)};nt.createRoot=function(e,t){if(!_h(e))throw Error(C(299));var n=!1,r="",i=n1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ph(e,1,!1,null,null,n,!1,r,i),e[jt]=t.current,Qi(e.nodeType===8?e.parentNode:e),new mh(t)};nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=Sg(t),e=e===null?null:e.stateNode,e};nt.flushSync=function(e){return Qn(e)};nt.hydrate=function(e,t,n){if(!Rl(t))throw Error(C(200));return Pl(null,e,t,!0,n)};nt.hydrateRoot=function(e,t,n){if(!_h(e))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=n1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=t1(t,null,e,1,n!=null?n:null,i,!1,s,o),e[jt]=t.current,Qi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new xl(t)};nt.render=function(e,t,n){if(!Rl(t))throw Error(C(200));return Pl(null,e,t,!1,n)};nt.unmountComponentAtNode=function(e){if(!Rl(e))throw Error(C(40));return e._reactRootContainer?(Qn(function(){Pl(null,null,e,!1,function(){e._reactRootContainer=null,e[jt]=null})}),!0):!1};nt.unstable_batchedUpdates=ch;nt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Rl(n))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return Pl(e,t,n,!1,r)};nt.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=nt})(tg);var Bf=tg.exports;Zu.createRoot=Bf.createRoot,Zu.hydrateRoot=Bf.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w=function(e,t){if(!e)throw Kr(t)},Kr=function(e){return new Error("Firebase Database ("+r1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},h2=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],l=e[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},vh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,l=o?e[i+1]:0,u=i+2<e.length,a=u?e[i+2]:0,h=s>>2,c=(s&3)<<4|l>>4;let d=(l&15)<<2|a>>6,m=a&63;u||(m=64,o||(d=64)),r.push(n[h],n[c],n[d],n[m])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):h2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const c=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||l==null||a==null||c==null)throw Error();const d=s<<2|l>>4;if(r.push(d),a!==64){const m=l<<4&240|a>>2;if(r.push(m),c!==64){const _=a<<6&192|c;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},s1=function(e){const t=i1(e);return vh.encodeByteArray(t,!0)},Vo=function(e){return s1(e).replace(/\./g,"")},Ga=function(e){try{return vh.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(e){return o1(void 0,e)}function o1(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!f2(n)||(e[n]=o1(e[n],t[n]));return e}function f2(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function l1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p2())}function g2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function u1(){return r1.NODE_ADMIN===!0}function m2(){return typeof indexedDB=="object"}function _2(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}function v2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=()=>v2().__FIREBASE_DEFAULTS__,C2=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},w2=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Ga(e[1]);return t&&JSON.parse(t)},a1=()=>{try{return y2()||C2()||w2()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},E2=e=>{var t,n;return(n=(t=a1())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},S2=e=>{const t=E2(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},T2=()=>{var e;return(e=a1())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[Vo(JSON.stringify(n)),Vo(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="FirebaseError";class Qr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=k2,Object.setPrototypeOf(this,Qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,c1.prototype.create)}}class c1{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?N2(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Qr(i,l,r)}}function N2(e,t){return e.replace(x2,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const x2=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(e){return JSON.parse(e)}function _e(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=rs(Ga(s[0])||""),n=rs(Ga(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},R2=function(e){const t=h1(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},P2=function(e){const t=h1(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ur(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function jf(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Go(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Ka(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Hf(s)&&Hf(o)){if(!Ka(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Hf(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let c=0;c<16;c++)r[c]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)r[c]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let c=16;c<80;c++){const d=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],u=this.chain_[4],a,h;for(let c=0;c<80;c++){c<40?c<20?(a=l^s&(o^l),h=1518500249):(a=s^o^l,h=1859775393):c<60?(a=s&o|l&(s|o),h=2400959708):(a=s^o^l,h=3395469782);const d=(i<<5|i>>>27)+a+u+h+r[c]&4294967295;u=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function yh(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,w(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Dl=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(e){return e&&e._delegate?e._delegate:e}class zr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Al;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(F2(t))try{this.getOrInitializeService({instanceIdentifier:An})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=An){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=An){return this.instances.has(t)}getOptions(t=An){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:M2(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=An){return this.component?this.component.multipleInstances?t:An:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function M2(e){return e===An?void 0:e}function F2(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new O2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(W||(W={}));const U2={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},z2=W.INFO,B2={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},j2=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=B2[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ch{constructor(t){this.name=t,this._logLevel=z2,this._logHandler=j2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in W))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?U2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...t),this._logHandler(this,W.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...t),this._logHandler(this,W.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,W.INFO,...t),this._logHandler(this,W.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,W.WARN,...t),this._logHandler(this,W.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...t),this._logHandler(this,W.ERROR,...t)}}const H2=(e,t)=>t.some(n=>e instanceof n);let bf,Wf;function b2(){return bf||(bf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W2(){return Wf||(Wf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d1=new WeakMap,Qa=new WeakMap,f1=new WeakMap,Lu=new WeakMap,wh=new WeakMap;function V2(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(fn(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&d1.set(n,e)}).catch(()=>{}),wh.set(t,e),t}function G2(e){if(Qa.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Qa.set(e,t)}let Ya={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Qa.get(e);if(t==="objectStoreNames")return e.objectStoreNames||f1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function K2(e){Ya=e(Ya)}function Q2(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Ou(this),t,...n);return f1.set(r,t.sort?t.sort():[t]),fn(r)}:W2().includes(e)?function(...t){return e.apply(Ou(this),t),fn(d1.get(this))}:function(...t){return fn(e.apply(Ou(this),t))}}function Y2(e){return typeof e=="function"?Q2(e):(e instanceof IDBTransaction&&G2(e),H2(e,b2())?new Proxy(e,Ya):e)}function fn(e){if(e instanceof IDBRequest)return V2(e);if(Lu.has(e))return Lu.get(e);const t=Y2(e);return t!==e&&(Lu.set(e,t),wh.set(t,e)),t}const Ou=e=>wh.get(e);function q2(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),l=fn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(fn(o.result),u.oldVersion,u.newVersion,fn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),l}const X2=["get","getKey","getAll","getAllKeys","count"],J2=["put","add","delete","clear"],Mu=new Map;function Vf(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Mu.get(t))return Mu.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=J2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||X2.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let a=u.store;return r&&(a=a.index(l.shift())),(await Promise.all([a[n](...l),i&&u.done]))[0]};return Mu.set(t,s),s}K2(e=>({...e,get:(t,n,r)=>Vf(t,n)||e.get(t,n,r),has:(t,n)=>!!Vf(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eC(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const qa="@firebase/app",Gf="0.8.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn=new Ch("@firebase/app"),tC="@firebase/app-compat",nC="@firebase/analytics-compat",rC="@firebase/analytics",iC="@firebase/app-check-compat",sC="@firebase/app-check",oC="@firebase/auth",lC="@firebase/auth-compat",uC="@firebase/database",aC="@firebase/database-compat",cC="@firebase/functions",hC="@firebase/functions-compat",dC="@firebase/installations",fC="@firebase/installations-compat",pC="@firebase/messaging",gC="@firebase/messaging-compat",mC="@firebase/performance",_C="@firebase/performance-compat",vC="@firebase/remote-config",yC="@firebase/remote-config-compat",CC="@firebase/storage",wC="@firebase/storage-compat",EC="@firebase/firestore",SC="@firebase/firestore-compat",TC="firebase",IC="9.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="[DEFAULT]",kC={[qa]:"fire-core",[tC]:"fire-core-compat",[rC]:"fire-analytics",[nC]:"fire-analytics-compat",[sC]:"fire-app-check",[iC]:"fire-app-check-compat",[oC]:"fire-auth",[lC]:"fire-auth-compat",[uC]:"fire-rtdb",[aC]:"fire-rtdb-compat",[cC]:"fire-fn",[hC]:"fire-fn-compat",[dC]:"fire-iid",[fC]:"fire-iid-compat",[pC]:"fire-fcm",[gC]:"fire-fcm-compat",[mC]:"fire-perf",[_C]:"fire-perf-compat",[vC]:"fire-rc",[yC]:"fire-rc-compat",[CC]:"fire-gcs",[wC]:"fire-gcs-compat",[EC]:"fire-fst",[SC]:"fire-fst-compat","fire-js":"fire-js",[TC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new Map,Ja=new Map;function NC(e,t){try{e.container.addComponent(t)}catch(n){Yn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function is(e){const t=e.name;if(Ja.has(t))return Yn.debug(`There were multiple attempts to register component ${t}.`),!1;Ja.set(t,e);for(const n of Ko.values())NC(n,e);return!0}function xC(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},pn=new c1("app","Firebase",RC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw pn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=IC;function g1(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Xa,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw pn.create("bad-app-name",{appName:String(i)});if(n||(n=T2()),!n)throw pn.create("no-options");const s=Ko.get(i);if(s){if(Ka(n,s.options)&&Ka(r,s.config))return s;throw pn.create("duplicate-app",{appName:i})}const o=new $2(i);for(const u of Ja.values())o.addComponent(u);const l=new PC(n,r,o);return Ko.set(i,l),l}function AC(e=Xa){const t=Ko.get(e);if(!t&&e===Xa)return g1();if(!t)throw pn.create("no-app",{appName:e});return t}function gn(e,t,n){var r;let i=(r=kC[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Yn.warn(l.join(" "));return}is(new zr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="firebase-heartbeat-database",LC=1,ss="firebase-heartbeat-store";let Fu=null;function m1(){return Fu||(Fu=q2(DC,LC,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ss)}}}).catch(e=>{throw pn.create("idb-open",{originalErrorMessage:e.message})})),Fu}async function OC(e){var t;try{return(await m1()).transaction(ss).objectStore(ss).get(_1(e))}catch(n){if(n instanceof Qr)Yn.warn(n.message);else{const r=pn.create("idb-get",{originalErrorMessage:(t=n)===null||t===void 0?void 0:t.message});Yn.warn(r.message)}}}async function Kf(e,t){var n;try{const i=(await m1()).transaction(ss,"readwrite");return await i.objectStore(ss).put(t,_1(e)),i.done}catch(r){if(r instanceof Qr)Yn.warn(r.message);else{const i=pn.create("idb-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message});Yn.warn(i.message)}}}function _1(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=1024,FC=30*24*60*60*1e3;class $C{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Qf();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=FC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Qf(),{heartbeatsToSend:n,unsentEntries:r}=UC(this._heartbeatsCache.heartbeats),i=Vo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Qf(){return new Date().toISOString().substring(0,10)}function UC(e,t=MC){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Yf(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Yf(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m2()?_2().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await OC(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Kf(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Kf(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Yf(e){return Vo(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(e){is(new zr("platform-logger",t=>new Z2(t),"PRIVATE")),is(new zr("heartbeat",t=>new $C(t),"PRIVATE")),gn(qa,Gf,e),gn(qa,Gf,"esm2017"),gn("fire-js","")}BC("");var jC="firebase",HC="9.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn(jC,HC,"app");var bC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},k,Eh=Eh||{},A=bC||self;function Qo(){}function Ll(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Is(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function WC(e){return Object.prototype.hasOwnProperty.call(e,$u)&&e[$u]||(e[$u]=++VC)}var $u="closure_uid_"+(1e9*Math.random()>>>0),VC=0;function GC(e,t,n){return e.call.apply(e.bind,arguments)}function KC(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function De(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?De=GC:De=KC,De.apply(null,arguments)}function ro(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function ke(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return t.prototype[i].apply(r,o)}}function In(){this.s=this.s,this.o=this.o}var QC=0;In.prototype.s=!1;In.prototype.na=function(){!this.s&&(this.s=!0,this.M(),QC!=0)&&WC(this)};In.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const v1=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Sh(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function qf(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ll(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function Le(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Le.prototype.h=function(){this.defaultPrevented=!0};var YC=function(){if(!A.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{A.addEventListener("test",Qo,t),A.removeEventListener("test",Qo,t)}catch{}return e}();function Yo(e){return/^[\s\xa0]*$/.test(e)}var Xf=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Uu(e,t){return e<t?-1:e>t?1:0}function Ol(){var e=A.navigator;return e&&(e=e.userAgent)?e:""}function kt(e){return Ol().indexOf(e)!=-1}function Th(e){return Th[" "](e),e}Th[" "]=Qo;function qC(e){var t=ZC;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var XC=kt("Opera"),os=kt("Trident")||kt("MSIE"),y1=kt("Edge"),Za=y1||os,C1=kt("Gecko")&&!(Ol().toLowerCase().indexOf("webkit")!=-1&&!kt("Edge"))&&!(kt("Trident")||kt("MSIE"))&&!kt("Edge"),JC=Ol().toLowerCase().indexOf("webkit")!=-1&&!kt("Edge");function w1(){var e=A.document;return e?e.documentMode:void 0}var ec;e:{var zu="",Bu=function(){var e=Ol();if(C1)return/rv:([^\);]+)(\)|;)/.exec(e);if(y1)return/Edge\/([\d\.]+)/.exec(e);if(os)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(JC)return/WebKit\/(\S+)/.exec(e);if(XC)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Bu&&(zu=Bu?Bu[1]:""),os){var ju=w1();if(ju!=null&&ju>parseFloat(zu)){ec=String(ju);break e}}ec=zu}var ZC={};function ew(){return qC(function(){let e=0;const t=Xf(String(ec)).split("."),n=Xf("9").split("."),r=Math.max(t.length,n.length);for(let o=0;e==0&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;e=Uu(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Uu(i[2].length==0,s[2].length==0)||Uu(i[2],s[2]),i=i[3],s=s[3]}while(e==0)}return 0<=e})}A.document&&os&&w1();function ls(e,t){if(Le.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(C1){e:{try{Th(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:tw[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ls.X.h.call(this)}}ke(ls,Le);var tw={2:"touch",3:"pen",4:"mouse"};ls.prototype.h=function(){ls.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ks="closure_listenable_"+(1e6*Math.random()|0),nw=0;function rw(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++nw,this.ba=this.ea=!1}function Ml(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Ih(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function E1(e){const t={};for(const n in e)t[n]=e[n];return t}const Jf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S1(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<Jf.length;s++)n=Jf[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Fl(e){this.src=e,this.g={},this.h=0}Fl.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=nc(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):(t=new rw(t,this.src,s,!!r,i),t.ea=n,e.push(t)),t};function tc(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=v1(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ml(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function nc(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ba&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}var kh="closure_lm_"+(1e6*Math.random()|0),Hu={};function T1(e,t,n,r,i){if(r&&r.once)return k1(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)T1(e,t[s],n,r,i);return null}return n=Rh(n),e&&e[ks]?e.N(t,n,Is(r)?!!r.capture:!!r,i):I1(e,t,n,!1,r,i)}function I1(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Is(i)?!!i.capture:!!i,l=xh(e);if(l||(e[kh]=l=new Fl(e)),n=l.add(t,n,r,o,s),n.proxy)return n;if(r=iw(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)YC||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(x1(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function iw(){function e(n){return t.call(e.src,e.listener,n)}const t=sw;return e}function k1(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)k1(e,t[s],n,r,i);return null}return n=Rh(n),e&&e[ks]?e.O(t,n,Is(r)?!!r.capture:!!r,i):I1(e,t,n,!0,r,i)}function N1(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)N1(e,t[s],n,r,i);else r=Is(r)?!!r.capture:!!r,n=Rh(n),e&&e[ks]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=nc(s,n,r,i),-1<n&&(Ml(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=xh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=nc(t,n,r,i)),(n=-1<e?t[e]:null)&&Nh(n))}function Nh(e){if(typeof e!="number"&&e&&!e.ba){var t=e.src;if(t&&t[ks])tc(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(x1(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=xh(t))?(tc(n,e),n.h==0&&(n.src=null,t[kh]=null)):Ml(e)}}}function x1(e){return e in Hu?Hu[e]:Hu[e]="on"+e}function sw(e,t){if(e.ba)e=!0;else{t=new ls(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Nh(e),e=n.call(r,t)}return e}function xh(e){return e=e[kh],e instanceof Fl?e:null}var bu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rh(e){return typeof e=="function"?e:(e[bu]||(e[bu]=function(t){return e.handleEvent(t)}),e[bu])}function ye(){In.call(this),this.i=new Fl(this),this.P=this,this.I=null}ke(ye,In);ye.prototype[ks]=!0;ye.prototype.removeEventListener=function(e,t,n,r){N1(this,e,t,n,r)};function Te(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new Le(t,e);else if(t instanceof Le)t.target=t.target||e;else{var i=t;t=new Le(r,e),S1(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=io(o,r,!0,t)&&i}if(o=t.g=e,i=io(o,r,!0,t)&&i,i=io(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=io(o,r,!1,t)&&i}ye.prototype.M=function(){if(ye.X.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Ml(n[r]);delete e.g[t],e.h--}}this.I=null};ye.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};ye.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function io(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ba&&o.capture==n){var l=o.listener,u=o.ha||o.src;o.ea&&tc(e.i,o),i=l.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var Ph=A.JSON.stringify;function ow(){var e=A1;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class lw{constructor(){this.h=this.g=null}add(t,n){const r=R1.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var R1=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new uw,e=>e.reset());class uw{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function aw(e){A.setTimeout(()=>{throw e},0)}function P1(e,t){rc||cw(),ic||(rc(),ic=!0),A1.add(e,t)}var rc;function cw(){var e=A.Promise.resolve(void 0);rc=function(){e.then(hw)}}var ic=!1,A1=new lw;function hw(){for(var e;e=ow();){try{e.h.call(e.g)}catch(n){aw(n)}var t=R1;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ic=!1}function $l(e,t){ye.call(this),this.h=e||1,this.g=t||A,this.j=De(this.lb,this),this.l=Date.now()}ke($l,ye);k=$l.prototype;k.ca=!1;k.R=null;k.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Te(this,"tick"),this.ca&&(Ah(this),this.start()))}};k.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ah(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}k.M=function(){$l.X.M.call(this),Ah(this),delete this.g};function Dh(e,t,n){if(typeof e=="function")n&&(e=De(e,n));else if(e&&typeof e.handleEvent=="function")e=De(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:A.setTimeout(e,t||0)}function D1(e){e.g=Dh(()=>{e.g=null,e.i&&(e.i=!1,D1(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class dw extends In{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:D1(this)}M(){super.M(),this.g&&(A.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(e){In.call(this),this.h=e,this.g={}}ke(us,In);var Zf=[];function L1(e,t,n,r){Array.isArray(n)||(n&&(Zf[0]=n.toString()),n=Zf);for(var i=0;i<n.length;i++){var s=T1(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function O1(e){Ih(e.g,function(t,n){this.g.hasOwnProperty(n)&&Nh(t)},e),e.g={}}us.prototype.M=function(){us.X.M.call(this),O1(this)};us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ul(){this.g=!0}Ul.prototype.Aa=function(){this.g=!1};function fw(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",l=s.split("&"),u=0;u<l.length;u++){var a=l[u].split("=");if(1<a.length){var h=a[0];a=a[1];var c=h.split("_");o=2<=c.length&&c[1]=="type"?o+(h+"="+a+"&"):o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function pw(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function vr(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+mw(e,n)+(r?" "+r:"")})}function gw(e,t){e.info(function(){return"TIMEOUT: "+t})}Ul.prototype.info=function(){};function mw(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Ph(n)}catch{return t}}var Yr={},ep=null;function Lh(){return ep=ep||new ye}Yr.Pa="serverreachability";function M1(e){Le.call(this,Yr.Pa,e)}ke(M1,Le);function as(e){const t=Lh();Te(t,new M1(t))}Yr.STAT_EVENT="statevent";function F1(e,t){Le.call(this,Yr.STAT_EVENT,e),this.stat=t}ke(F1,Le);function Fe(e){const t=Lh();Te(t,new F1(t,e))}Yr.Qa="timingevent";function $1(e,t){Le.call(this,Yr.Qa,e),this.size=t}ke($1,Le);function Ns(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return A.setTimeout(function(){e()},t)}var Oh={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},_w={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Mh(){}Mh.prototype.h=null;function tp(e){return e.h||(e.h=e.i())}function vw(){}var xs={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Fh(){Le.call(this,"d")}ke(Fh,Le);function $h(){Le.call(this,"c")}ke($h,Le);var sc;function zl(){}ke(zl,Mh);zl.prototype.g=function(){return new XMLHttpRequest};zl.prototype.i=function(){return{}};sc=new zl;function Rs(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new us(this),this.O=yw,e=Za?125:void 0,this.T=new $l(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new U1}function U1(){this.i=null,this.g="",this.h=!1}var yw=45e3,oc={},qo={};k=Rs.prototype;k.setTimeout=function(e){this.O=e};function lc(e,t,n){e.K=1,e.v=jl(Wt(t)),e.s=n,e.P=!0,z1(e,null)}function z1(e,t){e.F=Date.now(),Ps(e),e.A=Wt(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),K1(n.i,"t",r),e.C=0,n=e.l.H,e.h=new U1,e.g=p_(e.l,n?t:null,!e.s),0<e.N&&(e.L=new dw(De(e.La,e,e.g),e.N)),L1(e.S,e.g,"readystatechange",e.ib),t=e.H?E1(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),as(),fw(e.j,e.u,e.A,e.m,e.U,e.s)}k.ib=function(e){e=e.target;const t=this.L;t&&Ft(e)==3?t.l():this.La(e)};k.La=function(e){try{if(e==this.g)e:{const h=Ft(this.g);var t=this.g.Ea();const c=this.g.aa();if(!(3>h)&&(h!=3||Za||this.g&&(this.h.h||this.g.fa()||sp(this.g)))){this.I||h!=4||t==7||(t==8||0>=c?as(3):as(2)),Bl(this);var n=this.g.aa();this.Y=n;t:if(B1(this)){var r=sp(this.g);e="";var i=r.length,s=Ft(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fn(this),Oi(this);var o="";break t}this.h.i=new A.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,pw(this.j,this.u,this.A,this.m,this.U,h,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yo(l)){var a=l;break t}}a=null}if(n=a)vr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,uc(this,n);else{this.i=!1,this.o=3,Fe(12),Fn(this),Oi(this);break e}}this.P?(j1(this,h,o),Za&&this.i&&h==3&&(L1(this.S,this.T,"tick",this.hb),this.T.start())):(vr(this.j,this.m,o,null),uc(this,o)),h==4&&Fn(this),this.i&&!this.I&&(h==4?c_(this.l,this):(this.i=!1,Ps(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Fe(12)):(this.o=0,Fe(13)),Fn(this),Oi(this)}}}catch{}finally{}};function B1(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Da:!1}function j1(e,t,n){let r=!0,i;for(;!e.I&&e.C<n.length;)if(i=Cw(e,n),i==qo){t==4&&(e.o=4,Fe(14),r=!1),vr(e.j,e.m,null,"[Incomplete Response]");break}else if(i==oc){e.o=4,Fe(15),vr(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else vr(e.j,e.m,i,null),uc(e,i);B1(e)&&i!=qo&&i!=oc&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Fe(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.$&&(e.$=!0,t=e.l,t.g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wh(t),t.K=!0,Fe(11))):(vr(e.j,e.m,n,"[Invalid Chunked Response]"),Fn(e),Oi(e))}k.hb=function(){if(this.g){var e=Ft(this.g),t=this.g.fa();this.C<t.length&&(Bl(this),j1(this,e,t),this.i&&e!=4&&Ps(this))}};function Cw(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?qo:(n=Number(t.substring(n,r)),isNaN(n)?oc:(r+=1,r+n>t.length?qo:(t=t.substr(r,n),e.C=r+n,t)))}k.cancel=function(){this.I=!0,Fn(this)};function Ps(e){e.V=Date.now()+e.O,H1(e,e.O)}function H1(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Ns(De(e.gb,e),t)}function Bl(e){e.B&&(A.clearTimeout(e.B),e.B=null)}k.gb=function(){this.B=null;const e=Date.now();0<=e-this.V?(gw(this.j,this.A),this.K!=2&&(as(),Fe(17)),Fn(this),this.o=2,Oi(this)):H1(this,this.V-e)};function Oi(e){e.l.G==0||e.I||c_(e.l,e)}function Fn(e){Bl(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Ah(e.T),O1(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function uc(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||ac(n.h,e))){if(!e.J&&ac(n.h,e)&&n.G==3){try{var r=n.Fa.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Zo(n),Vl(n);else break e;bh(n),Fe(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Ns(De(n.cb,n),6e3));if(1>=q1(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else $n(n,11)}else if((e.J||n.g==e)&&Zo(n),!Yo(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){let a=i[t];if(n.T=a[0],a=a[1],n.G==2)if(a[0]=="c"){n.I=a[1],n.ka=a[2];const h=a[3];h!=null&&(n.ma=h,n.j.info("VER="+n.ma));const c=a[4];c!=null&&(n.Ca=c,n.j.info("SVER="+n.Ca));const d=a[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=e.g;if(m){const _=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var s=r.h;s.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Uh(s,s.h),s.h=null))}if(r.D){const v=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.za=v,J(r.F,r.D,v))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=e;if(r.sa=f_(r,r.H?r.ka:null,r.V),o.J){X1(r.h,o);var l=o,u=r.J;u&&l.setTimeout(u),l.B&&(Bl(l),Ps(l)),r.g=o}else u_(r);0<n.i.length&&Gl(n)}else a[0]!="stop"&&a[0]!="close"||$n(n,7);else n.G==3&&(a[0]=="stop"||a[0]=="close"?a[0]=="stop"?$n(n,7):Hh(n):a[0]!="noop"&&n.l&&n.l.wa(a),n.A=0)}}as(4)}catch{}}function ww(e){if(e.W&&typeof e.W=="function")return e.W();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Ll(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function Ew(e){if(e.oa&&typeof e.oa=="function")return e.oa();if(!e.W||typeof e.W!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Ll(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function b1(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Ll(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=Ew(e),r=ww(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var W1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sw(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Hn(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Hn){this.h=t!==void 0?t:e.h,Xo(this,e.j),this.s=e.s,this.g=e.g,Jo(this,e.m),this.l=e.l,t=e.i;var n=new cs;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),np(this,n),this.o=e.o}else e&&(n=String(e).match(W1))?(this.h=!!t,Xo(this,n[1]||"",!0),this.s=Ei(n[2]||""),this.g=Ei(n[3]||"",!0),Jo(this,n[4]),this.l=Ei(n[5]||"",!0),np(this,n[6]||"",!0),this.o=Ei(n[7]||"")):(this.h=!!t,this.i=new cs(null,this.h))}Hn.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Si(t,rp,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Si(t,rp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Si(n,n.charAt(0)=="/"?kw:Iw,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Si(n,xw)),e.join("")};function Wt(e){return new Hn(e)}function Xo(e,t,n){e.j=n?Ei(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Jo(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function np(e,t,n){t instanceof cs?(e.i=t,Rw(e.i,e.h)):(n||(t=Si(t,Nw)),e.i=new cs(t,e.h))}function J(e,t,n){e.i.set(t,n)}function jl(e){return J(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ei(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Si(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,Tw),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Tw(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var rp=/[#\/\?@]/g,Iw=/[#\?:]/g,kw=/[#\?]/g,Nw=/[#\?@]/g,xw=/#/g;function cs(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function kn(e){e.g||(e.g=new Map,e.h=0,e.i&&Sw(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}k=cs.prototype;k.add=function(e,t){kn(this),this.i=null,e=qr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function V1(e,t){kn(e),t=qr(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function G1(e,t){return kn(e),t=qr(e,t),e.g.has(t)}k.forEach=function(e,t){kn(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};k.oa=function(){kn(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};k.W=function(e){kn(this);let t=[];if(typeof e=="string")G1(this,e)&&(t=t.concat(this.g.get(qr(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};k.set=function(e,t){return kn(this),this.i=null,e=qr(this,e),G1(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};k.get=function(e,t){return e?(e=this.W(e),0<e.length?String(e[0]):t):t};function K1(e,t,n){V1(e,t),0<n.length&&(e.i=null,e.g.set(qr(e,t),Sh(n)),e.h+=n.length)}k.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function qr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Rw(e,t){t&&!e.j&&(kn(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(V1(this,r),K1(this,i,n))},e)),e.j=t}var Pw=class{constructor(e,t){this.h=e,this.g=t}};function Q1(e){this.l=e||Aw,A.PerformanceNavigationTiming?(e=A.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(A.g&&A.g.Ga&&A.g.Ga()&&A.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Aw=10;function Y1(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function q1(e){return e.h?1:e.g?e.g.size:0}function ac(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Uh(e,t){e.g?e.g.add(t):e.h=t}function X1(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Q1.prototype.cancel=function(){if(this.i=J1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function J1(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Sh(e.i)}function zh(){}zh.prototype.stringify=function(e){return A.JSON.stringify(e,void 0)};zh.prototype.parse=function(e){return A.JSON.parse(e,void 0)};function Dw(){this.g=new zh}function Lw(e,t,n){const r=n||"";try{b1(e,function(i,s){let o=i;Is(i)&&(o=Ph(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ow(e,t){const n=new Ul;if(A.Image){const r=new Image;r.onload=ro(so,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ro(so,n,r,"TestLoadImage: error",!1,t),r.onabort=ro(so,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ro(so,n,r,"TestLoadImage: timeout",!1,t),A.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function so(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Hl(e){this.l=e.ac||null,this.j=e.jb||!1}ke(Hl,Mh);Hl.prototype.g=function(){return new bl(this.l,this.j)};Hl.prototype.i=function(e){return function(){return e}}({});function bl(e,t){ye.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Bh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ke(bl,ye);var Bh=0;k=bl.prototype;k.open=function(e,t){if(this.readyState!=Bh)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,hs(this)};k.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||A).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))};k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=Bh};k.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,hs(this)),this.g&&(this.readyState=3,hs(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof A.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Z1(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))};function Z1(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}k.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?As(this):hs(this),this.readyState==3&&Z1(this)}};k.Va=function(e){this.g&&(this.response=this.responseText=e,As(this))};k.Ua=function(e){this.g&&(this.response=e,As(this))};k.ga=function(){this.g&&As(this)};function As(e){e.readyState=4,e.l=null,e.j=null,e.A=null,hs(e)}k.setRequestHeader=function(e,t){this.v.append(e,t)};k.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};k.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function hs(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(bl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var Mw=A.JSON.parse;function ue(e){ye.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=e_,this.K=this.L=!1}ke(ue,ye);var e_="",Fw=/^https?$/i,$w=["POST","PUT"];k=ue.prototype;k.Ka=function(e){this.L=e};k.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():sc.g(),this.C=this.u?tp(this.u):tp(sc),this.g.onreadystatechange=De(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){ip(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=A.FormData&&e instanceof A.FormData,!(0<=v1($w,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{r_(this),0<this.B&&((this.K=Uw(this.g))?(this.g.timeout=this.B,this.g.ontimeout=De(this.qa,this)):this.A=Dh(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){ip(this,s)}};function Uw(e){return os&&ew()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}k.qa=function(){typeof Eh<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Te(this,"timeout"),this.abort(8))};function ip(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,t_(e),Wl(e)}function t_(e){e.D||(e.D=!0,Te(e,"complete"),Te(e,"error"))}k.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Te(this,"complete"),Te(this,"abort"),Wl(this))};k.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wl(this,!0)),ue.X.M.call(this)};k.Ha=function(){this.s||(this.F||this.v||this.l?n_(this):this.fb())};k.fb=function(){n_(this)};function n_(e){if(e.h&&typeof Eh<"u"&&(!e.C[1]||Ft(e)!=4||e.aa()!=2)){if(e.v&&Ft(e)==4)Dh(e.Ha,0,e);else if(Te(e,"readystatechange"),Ft(e)==4){e.h=!1;try{const l=e.aa();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=l===0){var i=String(e.H).match(W1)[1]||null;if(!i&&A.self&&A.self.location){var s=A.self.location.protocol;i=s.substr(0,s.length-1)}r=!Fw.test(i?i.toLowerCase():"")}n=r}if(n)Te(e,"complete"),Te(e,"success");else{e.m=6;try{var o=2<Ft(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.aa()+"]",t_(e)}}finally{Wl(e)}}}}function Wl(e,t){if(e.g){r_(e);const n=e.g,r=e.C[0]?Qo:null;e.g=null,e.C=null,t||Te(e,"ready");try{n.onreadystatechange=r}catch{}}}function r_(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(A.clearTimeout(e.A),e.A=null)}function Ft(e){return e.g?e.g.readyState:0}k.aa=function(){try{return 2<Ft(this)?this.g.status:-1}catch{return-1}};k.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};k.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Mw(t)}};function sp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case e_:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}k.Ea=function(){return this.m};k.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function i_(e){let t="";return Ih(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function jh(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=i_(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):J(e,t,n))}function di(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function s_(e){this.Ca=0,this.i=[],this.j=new Ul,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=di("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=di("baseRetryDelayMs",5e3,e),this.bb=di("retryDelaySeedMs",1e4,e),this.$a=di("forwardChannelMaxRetries",2,e),this.ta=di("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Q1(e&&e.concurrentRequestLimit),this.Fa=new Dw,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}k=s_.prototype;k.ma=8;k.G=1;function Hh(e){if(o_(e),e.G==3){var t=e.U++,n=Wt(e.F);J(n,"SID",e.I),J(n,"RID",t),J(n,"TYPE","terminate"),Ds(e,n),t=new Rs(e,e.j,t,void 0),t.K=2,t.v=jl(Wt(n)),n=!1,A.navigator&&A.navigator.sendBeacon&&(n=A.navigator.sendBeacon(t.v.toString(),"")),!n&&A.Image&&(new Image().src=t.v,n=!0),n||(t.g=p_(t.l,null),t.g.da(t.v)),t.F=Date.now(),Ps(t)}d_(e)}function Vl(e){e.g&&(Wh(e),e.g.cancel(),e.g=null)}function o_(e){Vl(e),e.u&&(A.clearTimeout(e.u),e.u=null),Zo(e),e.h.cancel(),e.m&&(typeof e.m=="number"&&A.clearTimeout(e.m),e.m=null)}function Gl(e){Y1(e.h)||e.m||(e.m=!0,P1(e.Ja,e),e.C=0)}function zw(e,t){return q1(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.D.concat(e.i),!0):e.G==1||e.G==2||e.C>=(e.Za?0:e.$a)?!1:(e.m=Ns(De(e.Ja,e,t),h_(e,e.C)),e.C++,!0)}k.Ja=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Rs(this,this.j,e,void 0);let s=this.s;if(this.S&&(s?(s=E1(s),S1(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var t=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=l_(this,i,t),n=Wt(this.F),J(n,"RID",e),J(n,"CVER",22),this.D&&J(n,"X-HTTP-Session-Id",this.D),Ds(this,n),s&&(this.N?t="headers="+encodeURIComponent(String(i_(s)))+"&"+t:this.o&&jh(n,this.o,s)),Uh(this.h,i),this.Ya&&J(n,"TYPE","init"),this.O?(J(n,"$req",t),J(n,"SID","null"),i.Z=!0,lc(i,n,null)):lc(i,n,t),this.G=2}}else this.G==3&&(e?op(this,e):this.i.length==0||Y1(this.h)||op(this))};function op(e,t){var n;t?n=t.m:n=e.U++;const r=Wt(e.F);J(r,"SID",e.I),J(r,"RID",n),J(r,"AID",e.T),Ds(e,r),e.o&&e.s&&jh(r,e.o,e.s),n=new Rs(e,e.j,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=l_(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Uh(e.h,n),lc(n,r,t)}function Ds(e,t){e.ia&&Ih(e.ia,function(n,r){J(t,r,n)}),e.l&&b1({},function(n,r){J(t,r,n)})}function l_(e,t,n){n=Math.min(e.i.length,n);var r=e.l?De(e.l.Ra,e.l,e):null;e:{var i=e.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let u=0;u<n;u++){let a=i[u].h;const h=i[u].g;if(a-=s,0>a)s=Math.max(0,i[u].h-100),l=!1;else try{Lw(h,o,"req"+a+"_")}catch{r&&r(h)}}if(l){r=o.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function u_(e){e.g||e.u||(e.Z=1,P1(e.Ia,e),e.A=0)}function bh(e){return e.g||e.u||3<=e.A?!1:(e.Z++,e.u=Ns(De(e.Ia,e),h_(e,e.A)),e.A++,!0)}k.Ia=function(){if(this.u=null,a_(this),this.$&&!(this.K||this.g==null||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Ns(De(this.eb,this),e)}};k.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Fe(10),Vl(this),a_(this))};function Wh(e){e.B!=null&&(A.clearTimeout(e.B),e.B=null)}function a_(e){e.g=new Rs(e,e.j,"rpc",e.Z),e.o===null&&(e.g.H=e.s),e.g.N=0;var t=Wt(e.sa);J(t,"RID","rpc"),J(t,"SID",e.I),J(t,"CI",e.L?"0":"1"),J(t,"AID",e.T),J(t,"TYPE","xmlhttp"),Ds(e,t),e.o&&e.s&&jh(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=jl(Wt(t)),n.s=null,n.P=!0,z1(n,e)}k.cb=function(){this.v!=null&&(this.v=null,Vl(this),bh(this),Fe(19))};function Zo(e){e.v!=null&&(A.clearTimeout(e.v),e.v=null)}function c_(e,t){var n=null;if(e.g==t){Zo(e),Wh(e),e.g=null;var r=2}else if(ac(e.h,t))n=t.D,X1(e.h,t),r=1;else return;if(e.G!=0){if(e.pa=t.Y,t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=Lh(),Te(r,new $1(r,n)),Gl(e)}else u_(e);else if(i=t.o,i==3||i==0&&0<e.pa||!(r==1&&zw(e,t)||r==2&&bh(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:$n(e,5);break;case 4:$n(e,10);break;case 3:$n(e,6);break;default:$n(e,2)}}}function h_(e,t){let n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function $n(e,t){if(e.j.info("Error code "+t),t==2){var n=null;e.l&&(n=null);var r=De(e.kb,e);n||(n=new Hn("//www.google.com/images/cleardot.gif"),A.location&&A.location.protocol=="http"||Xo(n,"https"),jl(n)),Ow(n.toString(),r)}else Fe(2);e.G=0,e.l&&e.l.va(t),d_(e),o_(e)}k.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Fe(2)):(this.j.info("Failed to ping google.com"),Fe(1))};function d_(e){if(e.G=0,e.la=[],e.l){const t=J1(e.h);(t.length!=0||e.i.length!=0)&&(qf(e.la,t),qf(e.la,e.i),e.h.i.length=0,Sh(e.i),e.i.length=0),e.l.ua()}}function f_(e,t,n){var r=n instanceof Hn?Wt(n):new Hn(n,void 0);if(r.g!="")t&&(r.g=t+"."+r.g),Jo(r,r.m);else{var i=A.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Hn(null,void 0);r&&Xo(s,r),t&&(s.g=t),i&&Jo(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.za,n&&t&&J(r,n,t),J(r,"VER",e.ma),Ds(e,r),r}function p_(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Da&&!e.ra?new ue(new Hl({jb:!0})):new ue(e.ra),t.Ka(e.H),t}function g_(){}k=g_.prototype;k.xa=function(){};k.wa=function(){};k.va=function(){};k.ua=function(){};k.Ra=function(){};function ct(e,t){ye.call(this),this.g=new s_(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Yo(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Yo(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Xr(this)}ke(ct,ye);ct.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Fe(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=f_(e,null,e.V),Gl(e)};ct.prototype.close=function(){Hh(this.g)};ct.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Ph(e),e=n);t.i.push(new Pw(t.ab++,e)),t.G==3&&Gl(t)};ct.prototype.M=function(){this.g.l=null,delete this.j,Hh(this.g),delete this.g,ct.X.M.call(this)};function m_(e){Fh.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}ke(m_,Fh);function __(){$h.call(this),this.status=1}ke(__,$h);function Xr(e){this.g=e}ke(Xr,g_);Xr.prototype.xa=function(){Te(this.g,"a")};Xr.prototype.wa=function(e){Te(this.g,new m_(e))};Xr.prototype.va=function(e){Te(this.g,new __)};Xr.prototype.ua=function(){Te(this.g,"b")};ct.prototype.send=ct.prototype.u;ct.prototype.open=ct.prototype.m;ct.prototype.close=ct.prototype.close;Oh.NO_ERROR=0;Oh.TIMEOUT=8;Oh.HTTP_ERROR=6;_w.COMPLETE="complete";vw.EventType=xs;xs.OPEN="a";xs.CLOSE="b";xs.ERROR="c";xs.MESSAGE="d";ye.prototype.listen=ye.prototype.N;ue.prototype.listenOnce=ue.prototype.O;ue.prototype.getLastError=ue.prototype.Oa;ue.prototype.getLastErrorCode=ue.prototype.Ea;ue.prototype.getStatus=ue.prototype.aa;ue.prototype.getResponseJson=ue.prototype.Sa;ue.prototype.getResponseText=ue.prototype.fa;ue.prototype.send=ue.prototype.da;ue.prototype.setWithCredentials=ue.prototype.Ka;const lp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Be.UNAUTHENTICATED=new Be(null),Be.GOOGLE_CREDENTIALS=new Be("google-credentials-uid"),Be.FIRST_PARTY=new Be("first-party-uid"),Be.MOCK_USER=new Be("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl="9.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=new Ch("@firebase/firestore");function Je(e,...t){if(el.logLevel<=W.DEBUG){const n=t.map(v_);el.debug(`Firestore (${Kl}): ${e}`,...n)}}function Vh(e,...t){if(el.logLevel<=W.ERROR){const n=t.map(v_);el.error(`Firestore (${Kl}): ${e}`,...n)}}function v_(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(e="Unexpected state"){const t=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: `+e;throw Vh(t),new Error(t)}function tl(e,t){e||y_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pt extends Qr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Be.UNAUTHENTICATED))}shutdown(){}}class Hw{constructor(t){this.t=t,this.currentUser=Be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new kr,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{Je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Je("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new kr)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tl(typeof r.accessToken=="string"),new Bw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return tl(t===null||typeof t=="string"),new Be(t)}}class bw{constructor(t,n,r,i){this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Be.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(tl(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Ww{constructor(t,n,r,i){this.h=t,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new bw(this.h,this.l,this.m,this.g))}start(t,n){t.enqueueRetryable(()=>n(Be.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vw{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gw{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,n){const r=s=>{s.error!=null&&Je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,Je("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):Je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(tl(typeof n.token=="string"),this.A=n.token,new Vw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=Kw(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function C_(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(t,n,r,i,s,o,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.useFetchStreams=u}}class nl{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new nl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof nl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var up,B;(B=up||(up={}))[B.OK=0]="OK",B[B.CANCELLED=1]="CANCELLED",B[B.UNKNOWN=2]="UNKNOWN",B[B.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",B[B.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",B[B.NOT_FOUND=5]="NOT_FOUND",B[B.ALREADY_EXISTS=6]="ALREADY_EXISTS",B[B.PERMISSION_DENIED=7]="PERMISSION_DENIED",B[B.UNAUTHENTICATED=16]="UNAUTHENTICATED",B[B.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",B[B.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",B[B.ABORTED=10]="ABORTED",B[B.OUT_OF_RANGE=11]="OUT_OF_RANGE",B[B.UNIMPLEMENTED=12]="UNIMPLEMENTED",B[B.INTERNAL=13]="INTERNAL",B[B.UNAVAILABLE=14]="UNAVAILABLE",B[B.DATA_LOSS=15]="DATA_LOSS";function Wu(){return typeof document<"u"?document:null}class qw{constructor(t,n,r=1e3,i=1.5,s=6e4){this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,l=new Gh(t,n,o,i,s);return l.start(r),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pt(Rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xw(e,t){if(Vh("AsyncQueue",`${t}: ${e}`),C_(e))return new Pt(Rt.UNAVAILABLE,`${t}: ${e}`);throw e}function Jw(e,t,n,r){if(t===!0&&r===!0)throw new Pt(Rt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap=new Map;class cp{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new Pt(Rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Pt(Rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Jw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pt(Rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new Pt(Rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cp(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new jw;switch(n.type){case"gapi":const r=n.client;return new Ww(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Pt(Rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=ap.get(t);n&&(Je("ComponentProvider","Removing Datastore"),ap.delete(t),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Be.UNAUTHENTICATED,this.clientId=Qw.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Je("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Je("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pt(Rt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Xw(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}class tE{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new qw(this,"async_queue_retry"),this.Wc=()=>{const n=Wu();n&&Je("AsyncQueue","Visibility state changed to "+n.visibilityState),this.No.Po()};const t=Wu();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.Uc){this.Uc=!0,this.Qc=t||!1;const n=Wu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.Uc)return new Promise(()=>{});const n=new kr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.No.reset()}catch(t){if(!C_(t))throw t;Je("AsyncQueue","Operation failed with retryable error: "+t)}this.Lc.length>0&&this.No.Ro(()=>this.Jc())}}Hc(t){const n=this.Bc.then(()=>(this.Gc=!0,t().catch(r=>{this.Kc=r,this.Gc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Vh("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(t,n,r){this.zc(),this.jc.indexOf(t)>-1&&(n=0);const i=Gh.createAndSchedule(this,t,n,r,s=>this.Yc(s));return this.qc.push(i),i}zc(){this.Kc&&y_()}verifyOperationInProgress(){}async Xc(){let t;do t=this.Bc,await t;while(t!==this.Bc)}Zc(t){for(const n of this.qc)if(n.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.qc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.qc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const n=this.qc.indexOf(t);this.qc.splice(n,1)}}class nE extends Zw{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new tE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||rE(this),this._firestoreClient.terminate()}}function rE(e){var t;const n=e._freezeSettings(),r=function(i,s,o,l){return new Yw(i,s,o,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new eE(e._authCredentials,e._appCheckCredentials,e._queue,r)}(function(e,t=!0){(function(n){Kl=n})(p1),is(new zr("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new nE(new Hw(n.getProvider("auth-internal")),new Gw(n.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Pt(Rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nl(l.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),gn(lp,"3.7.1",e),gn(lp,"3.7.1","esm2017")})();const hp="@firebase/database",dp="0.13.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w_="";function iE(e){w_=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),_e(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:rs(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Qt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new sE(t)}}catch{}return new oE},Un=E_("localStorage"),cc=E_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new Ch("@firebase/database"),lE=function(){let e=1;return function(){return e++}}(),S_=function(e){const t=L2(e),n=new D2;n.update(t);const r=n.digest();return vh.encodeByteArray(r)},Ls=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Ls.apply(null,r):typeof r=="object"?t+=_e(r):t+=r,t+=" "}return t};let bn=null,fp=!0;const uE=function(e,t){w(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Nr.logLevel=W.VERBOSE,bn=Nr.log.bind(Nr),t&&cc.set("logging_enabled",!0)):typeof e=="function"?bn=e:(bn=null,cc.remove("logging_enabled"))},Ae=function(...e){if(fp===!0&&(fp=!1,bn===null&&cc.get("logging_enabled")===!0&&uE(!0)),bn){const t=Ls.apply(null,e);bn(t)}},Os=function(e){return function(...t){Ae(e,...t)}},hc=function(...e){const t="FIREBASE INTERNAL ERROR: "+Ls(...e);Nr.error(t)},Vt=function(...e){const t=`FIREBASE FATAL ERROR: ${Ls(...e)}`;throw Nr.error(t),new Error(t)},Qe=function(...e){const t="FIREBASE WARNING: "+Ls(...e);Nr.warn(t)},aE=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Qe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},T_=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},cE=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Br="[MIN_NAME]",qn="[MAX_NAME]",Jr=function(e,t){if(e===t)return 0;if(e===Br||t===qn)return-1;if(t===Br||e===qn)return 1;{const n=pp(e),r=pp(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},hE=function(e,t){return e===t?0:e<t?-1:1},fi=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+_e(t))},Kh=function(e){if(typeof e!="object"||e===null)return _e(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=_e(t[r]),n+=":",n+=Kh(e[t[r]]);return n+="}",n},I_=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Ye(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const k_=function(e){w(!T_(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,o,l,u;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,o=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const a=[];for(u=n;u;u-=1)a.push(o%2?1:0),o=Math.floor(o/2);for(u=t;u;u-=1)a.push(s%2?1:0),s=Math.floor(s/2);a.push(i?1:0),a.reverse();const h=a.join("");let c="";for(u=0;u<64;u+=8){let d=parseInt(h.substr(u,8),2).toString(16);d.length===1&&(d="0"+d),c=c+d}return c.toLowerCase()},dE=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},fE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function pE(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const gE=new RegExp("^-?(0*)\\d{1,10}$"),mE=-2147483648,_E=2147483647,pp=function(e){if(gE.test(e)){const t=Number(e);if(t>=mE&&t<=_E)return t}return null},Zr=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Qe("Exception was thrown by user callback.",n),t},Math.floor(0))}},vE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Mi=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Qe(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ae("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Qe(t)}}class xr{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}xr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh="5",N_="v",x_="s",R_="r",P_="f",A_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,D_="ls",L_="p",dc="ac",O_="websocket",M_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(t,n,r,i,s=!1,o="",l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Un.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Un.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function wE(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function $_(e,t,n){w(typeof t=="string","typeof type must == string"),w(typeof n=="object","typeof params must == object");let r;if(t===O_)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===M_)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);wE(e)&&(n.ns=e.namespace);const i=[];return Ye(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.counters_={}}incrementCounter(t,n=1){Qt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return d2(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu={},Gu={};function Yh(e){const t=e.toString();return Vu[t]||(Vu[t]=new EE),Vu[t]}function SE(e,t){const n=e.toString();return Gu[n]||(Gu[n]=t()),Gu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Zr(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="start",IE="close",kE="pLPCommand",NE="pRTLPCB",U_="id",z_="pw",B_="ser",xE="cb",RE="seg",PE="ts",AE="d",DE="dframe",j_=1870,H_=30,LE=j_-H_,OE=25e3,ME=3e4;class yr{constructor(t,n,r,i,s,o,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Os(t),this.stats_=Yh(n),this.urlFn=u=>(this.appCheckToken&&(u[dc]=this.appCheckToken),$_(n,M_,u))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new TE(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(ME)),cE(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qh((...s)=>{const[o,l,u,a,h]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===gp)this.id=l,this.password=u;else if(o===IE)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[gp]="t",r[B_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[xE]=this.scriptTagHolder.uniqueCallbackIdentifier),r[N_]=Qh,this.transportSessionId&&(r[x_]=this.transportSessionId),this.lastSessionId&&(r[D_]=this.lastSessionId),this.applicationId&&(r[L_]=this.applicationId),this.appCheckToken&&(r[dc]=this.appCheckToken),typeof location<"u"&&location.hostname&&A_.test(location.hostname)&&(r[R_]=P_);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){yr.forceAllow_=!0}static forceDisallow(){yr.forceDisallow_=!0}static isAvailable(){return yr.forceAllow_?!0:!yr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!dE()&&!fE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=_e(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=s1(n),i=I_(r,LE);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[DE]="t",r[U_]=t,r[z_]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=_e(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class qh{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=lE(),window[kE+this.uniqueCallbackIdentifier]=t,window[NE+this.uniqueCallbackIdentifier]=n,this.myIFrame=qh.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Ae("frame writing exception"),l.stack&&Ae(l.stack),Ae(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ae("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[U_]=this.myID,t[z_]=this.myPW,t[B_]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+H_+r.length<=j_;){const o=this.pendingSegs.shift();r=r+"&"+RE+i+"="+o.seg+"&"+PE+i+"="+o.ts+"&"+AE+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(OE)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ae("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=16384,$E=45e3;let rl=null;typeof MozWebSocket<"u"?rl=MozWebSocket:typeof WebSocket<"u"&&(rl=WebSocket);class mt{constructor(t,n,r,i,s,o,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Os(this.connId),this.stats_=Yh(n),this.connURL=mt.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const o={};return o[N_]=Qh,typeof location<"u"&&location.hostname&&A_.test(location.hostname)&&(o[R_]=P_),n&&(o[x_]=n),r&&(o[D_]=r),i&&(o[dc]=i),s&&(o[L_]=s),$_(t,O_,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Un.set("previous_websocket_failure",!0);try{let r;u1(),this.mySock=new rl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){mt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&rl!==null&&!mt.forceDisallow_}static previouslyFailed(){return Un.isInMemoryStorage||Un.get("previous_websocket_failure")===!0}markConnectionHealthy(){Un.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=rs(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(w(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=_e(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=I_(n,FE);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor($E))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}mt.responsesRequiredToBeHealthy=2;mt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[yr,mt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=mt&&mt.isAvailable();let r=n&&!mt.previouslyFailed();if(t.webSocketOnly&&(n||Qe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[mt];else{const i=this.transports_=[];for(const s of ds.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);ds.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ds.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=6e4,zE=5e3,BE=10*1024,jE=100*1024,Ku="t",mp="d",HE="s",_p="r",bE="e",vp="o",yp="a",Cp="n",wp="p",WE="h";class VE{constructor(t,n,r,i,s,o,l,u,a,h){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=u,this.onKill_=a,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Os("c:"+this.id+":"),this.transportManager_=new ds(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Mi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>jE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>BE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Ku in t){const n=t[Ku];n===yp?this.upgradeIfSecondaryHealthy_():n===_p?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===vp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=fi("t",t),r=fi("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:wp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:yp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Cp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=fi("t",t),r=fi("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=fi(Ku,t);if(mp in t){const r=t[mp];if(n===WE)this.onHandshake_(r);else if(n===Cp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===HE?this.onConnectionShutdown_(r):n===_p?this.onReset_(r):n===bE?hc("Server Error: "+r):n===vp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):hc("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Qh!==r&&Qe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Mi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(UE))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Mi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(zE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:wp,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Un.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(t){this.allowedEvents_=t,this.listeners_={},w(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){w(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends W_{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!l1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new il}getInitialEvent(t){return w(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=32,Sp=768;class V{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function H(){return new V("")}function M(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function yn(e){return e.pieces_.length-e.pieceNum_}function G(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new V(e.pieces_,t)}function V_(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function GE(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function G_(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function K_(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new V(t,0)}function he(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof V)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new V(n,0)}function $(e){return e.pieceNum_>=e.pieces_.length}function be(e,t){const n=M(e),r=M(t);if(n===null)return t;if(n===r)return be(G(e),G(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Xh(e,t){if(yn(e)!==yn(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function _t(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(yn(e)>yn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class KE{constructor(t,n){this.errorPrefix_=n,this.parts_=G_(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Dl(this.parts_[r]);Q_(this)}}function QE(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Dl(t),Q_(e)}function YE(e){const t=e.parts_.pop();e.byteLength_-=Dl(t),e.parts_.length>0&&(e.byteLength_-=1)}function Q_(e){if(e.byteLength_>Sp)throw new Error(e.errorPrefix_+"has a key path longer than "+Sp+" bytes ("+e.byteLength_+").");if(e.parts_.length>Ep)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ep+") or object contains a cycle "+Dn(e))}function Dn(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh extends W_{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Jh}getInitialEvent(t){return w(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=1e3,qE=60*5*1e3,Tp=30*1e3,XE=1.3,JE=3e4,ZE="server_kill",Ip=3;class zt extends b_{constructor(t,n,r,i,s,o,l,u){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=zt.nextPersistentConnectionId_++,this.log_=Os("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=pi,this.maxReconnectDelay_=qE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!u1())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Jh.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&il.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(_e(s)),w(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new Al,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),w(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),w(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,l=>{const u=l.d,a=l.s;zt.warnOnListenWarnings_(u,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",l),a!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(a,u))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Qt(t,"w")){const r=Ur(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Qe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||P2(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Tp)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=R2(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),w(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+_e(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):hc("Unrecognized action received from server: "+_e(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){w(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=pi,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=pi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>JE&&(this.reconnectDelay_=pi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*XE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+zt.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const u=function(){l?l.close():(o=!0,r())},a=function(c){w(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(c)};this.realtime_={close:u,sendRequest:a};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,d]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?Ae("getToken() completed but was canceled"):(Ae("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=d&&d.token,l=new VE(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,m=>{Qe(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(ZE)},s))}catch(c){this.log_("Failed to get token: "+c),o||(this.repoInfo_.nodeAdmin&&Qe(c),u())}}}interrupt(t){Ae("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ae("Resuming connection for reason: "+t),delete this.interruptReasons_[t],jf(this.interruptReasons_)&&(this.reconnectDelay_=pi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>Kh(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new V(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){Ae("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ip&&(this.reconnectDelay_=Tp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Ae("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ip&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+w_.replace(/\./g,"-")]=1,l1()?t["framework.cordova"]=1:g2()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=il.getInstance().currentlyOnline();return jf(this.interruptReasons_)&&t}}zt.nextPersistentConnectionId_=0;zt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new F(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new F(Br,t),i=new F(Br,n);return this.compare(r,i)!==0}minPost(){return F.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo;class Y_ extends Ql{static get __EMPTY_NODE(){return oo}static set __EMPTY_NODE(t){oo=t}compare(t,n){return Jr(t.name,n.name)}isDefinedOn(t){throw Kr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return F.MIN}maxPost(){return new F(qn,oo)}makePost(t,n){return w(typeof t=="string","KeyIndex indexValue must always be a string."),new F(t,oo)}toString(){return".key"}}const Rr=new Y_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class me{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r!=null?r:me.RED,this.left=i!=null?i:We.EMPTY_NODE,this.right=s!=null?s:We.EMPTY_NODE}copy(t,n,r,i,s){return new me(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return We.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return We.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,me.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,me.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}me.RED=!0;me.BLACK=!1;class eS{copy(t,n,r,i,s){return this}insert(t,n,r){return new me(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class We{constructor(t,n=We.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new We(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,me.BLACK,null,null))}remove(t){return new We(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,me.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new lo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new lo(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new lo(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new lo(this.root_,null,this.comparator_,!0,t)}}We.EMPTY_NODE=new eS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(e,t){return Jr(e.name,t.name)}function Zh(e,t){return Jr(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc;function nS(e){fc=e}const q_=function(e){return typeof e=="number"?"number:"+k_(e):"string:"+e},X_=function(e){if(e.isLeafNode()){const t=e.val();w(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Qt(t,".sv"),"Priority must be a string or number.")}else w(e===fc||e.isEmpty(),"priority of unexpected type.");w(e===fc||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kp;class pe{constructor(t,n=pe.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,w(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),X_(this.priorityNode_)}static set __childrenNodeConstructor(t){kp=t}static get __childrenNodeConstructor(){return kp}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new pe(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:pe.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return $(t)?this:M(t)===".priority"?this.priorityNode_:pe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:pe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=M(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(w(r!==".priority"||yn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,pe.__childrenNodeConstructor.EMPTY_NODE.updateChild(G(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+q_(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=k_(this.value_):t+=this.value_,this.lazyHash_=S_(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===pe.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof pe.__childrenNodeConstructor?-1:(w(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=pe.VALUE_TYPE_ORDER.indexOf(n),s=pe.VALUE_TYPE_ORDER.indexOf(r);return w(i>=0,"Unknown leaf type: "+n),w(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}pe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J_,Z_;function rS(e){J_=e}function iS(e){Z_=e}class sS extends Ql{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Jr(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return F.MIN}maxPost(){return new F(qn,new pe("[PRIORITY-POST]",Z_))}makePost(t,n){const r=J_(t);return new F(n,new pe("[PRIORITY-POST]",r))}toString(){return".priority"}}const ie=new sS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=Math.log(2);class lS{constructor(t){const n=s=>parseInt(Math.log(s)/oS,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const sl=function(e,t,n,r){e.sort(t);const i=function(u,a){const h=a-u;let c,d;if(h===0)return null;if(h===1)return c=e[u],d=n?n(c):c,new me(d,c.node,me.BLACK,null,null);{const m=parseInt(h/2,10)+u,_=i(u,m),v=i(m+1,a);return c=e[m],d=n?n(c):c,new me(d,c.node,me.BLACK,_,v)}},s=function(u){let a=null,h=null,c=e.length;const d=function(_,v){const D=c-_,p=c;c-=_;const f=i(D+1,p),g=e[D],y=n?n(g):g;m(new me(y,g.node,v,null,f))},m=function(_){a?(a.left=_,a=_):(h=_,a=_)};for(let _=0;_<u.count;++_){const v=u.nextBitIsOne(),D=Math.pow(2,u.count-(_+1));v?d(D,me.BLACK):(d(D,me.BLACK),d(D,me.RED))}return h},o=new lS(e.length),l=s(o);return new We(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu;const sr={};class $t{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return w(sr&&ie,"ChildrenNode.ts has not been loaded"),Qu=Qu||new $t({".priority":sr},{".priority":ie}),Qu}get(t){const n=Ur(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof We?n:null}hasIndex(t){return Qt(this.indexSet_,t.toString())}addIndex(t,n){w(t!==Rr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(F.Wrap);let o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=sl(r,t.getCompare()):l=sr;const u=t.toString(),a=Object.assign({},this.indexSet_);a[u]=t;const h=Object.assign({},this.indexes_);return h[u]=l,new $t(h,a)}addToIndexes(t,n){const r=Go(this.indexes_,(i,s)=>{const o=Ur(this.indexSet_,s);if(w(o,"Missing index implementation for "+s),i===sr)if(o.isDefinedOn(t.node)){const l=[],u=n.getIterator(F.Wrap);let a=u.getNext();for(;a;)a.name!==t.name&&l.push(a),a=u.getNext();return l.push(t),sl(l,o.getCompare())}else return sr;else{const l=n.get(t.name);let u=i;return l&&(u=u.remove(new F(t.name,l))),u.insert(t,t.node)}});return new $t(r,this.indexSet_)}removeFromIndexes(t,n){const r=Go(this.indexes_,i=>{if(i===sr)return i;{const s=n.get(t.name);return s?i.remove(new F(t.name,s)):i}});return new $t(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gi;class P{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&X_(this.priorityNode_),this.children_.isEmpty()&&w(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return gi||(gi=new P(new We(Zh),null,$t.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||gi}updatePriority(t){return this.children_.isEmpty()?this:new P(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?gi:n}}getChild(t){const n=M(t);return n===null?this:this.getImmediateChild(n).getChild(G(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(w(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new F(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?gi:this.priorityNode_;return new P(i,o,s)}}updateChild(t,n){const r=M(t);if(r===null)return n;{w(M(t)!==".priority"||yn(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(G(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ie,(o,l)=>{n[o]=l.val(t),r++,s&&P.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+q_(this.getPriority().val())+":"),this.forEachChild(ie,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":S_(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new F(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new F(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new F(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,F.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,F.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ms?-1:0}withIndex(t){if(t===Rr||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new P(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===Rr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ie),i=n.getIterator(ie);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===Rr?null:this.indexMap_.get(t.toString())}}P.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class uS extends P{constructor(){super(new We(Zh),P.EMPTY_NODE,$t.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return P.EMPTY_NODE}isEmpty(){return!1}}const Ms=new uS;Object.defineProperties(F,{MIN:{value:new F(Br,P.EMPTY_NODE)},MAX:{value:new F(qn,Ms)}});Y_.__EMPTY_NODE=P.EMPTY_NODE;pe.__childrenNodeConstructor=P;nS(Ms);iS(Ms);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=!0;function we(e,t=null){if(e===null)return P.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),w(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new pe(n,we(t))}if(!(e instanceof Array)&&aS){const n=[];let r=!1;if(Ye(e,(o,l)=>{if(o.substring(0,1)!=="."){const u=we(l);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new F(o,u)))}}),n.length===0)return P.EMPTY_NODE;const s=sl(n,tS,o=>o.name,Zh);if(r){const o=sl(n,ie.getCompare());return new P(s,we(t),new $t({".priority":o},{".priority":ie}))}else return new P(s,we(t),$t.Default)}else{let n=P.EMPTY_NODE;return Ye(e,(r,i)=>{if(Qt(e,r)&&r.substring(0,1)!=="."){const s=we(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(we(t))}}rS(we);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS extends Ql{constructor(t){super(),this.indexPath_=t,w(!$(t)&&M(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Jr(t.name,n.name):s}makePost(t,n){const r=we(t),i=P.EMPTY_NODE.updateChild(this.indexPath_,r);return new F(n,i)}maxPost(){const t=P.EMPTY_NODE.updateChild(this.indexPath_,Ms);return new F(qn,t)}toString(){return G_(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS extends Ql{compare(t,n){const r=t.node.compareTo(n.node);return r===0?Jr(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return F.MIN}maxPost(){return F.MAX}makePost(t,n){const r=we(t);return new F(n,r)}toString(){return".value"}}const dS=new hS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(e){return{type:"value",snapshotNode:e}}function jr(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function fs(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ps(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function fS(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(t){this.index_=t}updateChild(t,n,r,i,s,o){w(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange(fs(n,l)):w(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(jr(n,r)):o.trackChildChange(ps(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(ie,(i,s)=>{n.hasChild(i)||r.trackChildChange(fs(i,s))}),n.isLeafNode()||n.forEachChild(ie,(i,s)=>{if(t.hasChild(i)){const o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(ps(i,s,o))}else r.trackChildChange(jr(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?P.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(t){this.indexedFilter_=new ed(t.getIndex()),this.index_=t.getIndex(),this.startPost_=gs.getStartPost_(t),this.endPost_=gs.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,n,r,i,s,o){return this.matches(new F(n,r))||(r=P.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=P.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(P.EMPTY_NODE);const s=this;return n.forEachChild(ie,(o,l)=>{s.matches(new F(o,l))||(i=i.updateImmediateChild(o,P.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(t){this.rangedFilter_=new gs(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,n,r,i,s,o){return this.rangedFilter_.matches(new F(n,r))||(r=P.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=P.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=P.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();let u;if(this.reverse_?u=this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:u=this.index_.compare(l,this.rangedFilter_.getEndPost())<=0,u)i=i.updateImmediateChild(l.name,l.node),o++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(P.EMPTY_NODE);let s,o,l,u;if(this.reverse_){u=i.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),o=this.rangedFilter_.getStartPost();const c=this.index_.getCompare();l=(d,m)=>c(m,d)}else u=i.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),o=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();let a=0,h=!1;for(;u.hasNext();){const c=u.getNext();!h&&l(s,c)<=0&&(h=!0),h&&a<this.limit_&&l(c,o)<=0?a++:i=i.updateImmediateChild(c.name,P.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let o;if(this.reverse_){const c=this.index_.getCompare();o=(d,m)=>c(m,d)}else o=this.index_.getCompare();const l=t;w(l.numChildren()===this.limit_,"");const u=new F(n,r),a=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(l.hasChild(n)){const c=l.getImmediateChild(n);let d=i.getChildAfterChild(this.index_,a,this.reverse_);for(;d!=null&&(d.name===n||l.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const m=d==null?1:o(d,u);if(h&&!r.isEmpty()&&m>=0)return s!=null&&s.trackChildChange(ps(n,r,c)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(fs(n,c));const v=l.updateImmediateChild(n,P.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange(jr(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}}else return r.isEmpty()?t:h&&o(a,u)>=0?(s!=null&&(s.trackChildChange(fs(a.name,a.node)),s.trackChildChange(jr(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(a.name,P.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ie}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return w(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return w(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Br}hasEnd(){return this.endSet_}getIndexEndValue(){return w(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return w(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return w(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ie}copy(){const t=new td;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function gS(e){return e.loadsAllData()?new ed(e.getIndex()):e.hasLimit()?new pS(e):new gs(e)}function Np(e){const t={};if(e.isDefault())return t;let n;return e.index_===ie?n="$priority":e.index_===dS?n="$value":e.index_===Rr?n="$key":(w(e.index_ instanceof cS,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=_e(n),e.startSet_&&(t.startAt=_e(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+_e(e.indexStartName_))),e.endSet_&&(t.endAt=_e(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+_e(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function xp(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==ie&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends b_{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Os("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(w(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=ol.getListenId_(t,r),l={};this.listens_[o]=l;const u=Np(t._queryParams);this.restRequest_(s+".json",u,(a,h)=>{let c=h;if(a===404&&(c=null,a=null),a===null&&this.onDataUpdate_(s,c,!1,r),Ur(this.listens_,o)===l){let d;a?a===401?d="permission_denied":d="rest_error:"+a:d="ok",i(d,null)}})}unlisten(t,n){const r=ol.getListenId_(t,n);delete this.listens_[r]}get(t){const n=Np(t._queryParams),r=t._path.toString(),i=new Al;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+A2(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let u=null;if(l.status>=200&&l.status<300){try{u=rs(l.responseText)}catch{Qe("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,u)}else l.status!==401&&l.status!==404&&Qe("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this.rootNode_=P.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(){return{value:null,children:new Map}}function t0(e,t,n){if($(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=M(t);e.children.has(r)||e.children.set(r,ll());const i=e.children.get(r);t=G(t),t0(i,t,n)}}function pc(e,t,n){e.value!==null?n(t,e.value):_S(e,(r,i)=>{const s=new V(t.toString()+"/"+r);pc(i,s,n)})}function _S(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Ye(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=10*1e3,yS=30*1e3,CS=5*60*1e3;class wS{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new vS(t);const r=Rp+(yS-Rp)*Math.random();Mi(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;Ye(t,(i,s)=>{s>0&&Qt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Mi(this.reportStats_.bind(this),Math.floor(Math.random()*2*CS))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(vt||(vt={}));function n0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function nd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function rd(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=vt.ACK_USER_WRITE,this.source=n0()}operationForChild(t){if($(this.path)){if(this.affectedTree.value!=null)return w(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new V(t));return new ul(H(),n,this.revert)}}else return w(M(this.path)===t,"operationForChild called for unrelated child."),new ul(G(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(t,n){this.source=t,this.path=n,this.type=vt.LISTEN_COMPLETE}operationForChild(t){return $(this.path)?new ms(this.source,H()):new ms(this.source,G(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=vt.OVERWRITE}operationForChild(t){return $(this.path)?new Xn(this.source,H(),this.snap.getImmediateChild(t)):new Xn(this.source,G(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=vt.MERGE}operationForChild(t){if($(this.path)){const n=this.children.subtree(new V(t));return n.isEmpty()?null:n.value?new Xn(this.source,H(),n.value):new _s(this.source,H(),n)}else return w(M(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new _s(this.source,G(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if($(t))return this.isFullyInitialized()&&!this.filtered_;const n=M(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function SS(e,t,n,r){const i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(fS(o.childName,o.snapshotNode))}),mi(e,i,"child_removed",t,r,n),mi(e,i,"child_added",t,r,n),mi(e,i,"child_moved",s,r,n),mi(e,i,"child_changed",t,r,n),mi(e,i,"value",t,r,n),i}function mi(e,t,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,u)=>IS(e,l,u)),o.forEach(l=>{const u=TS(e,l,s);i.forEach(a=>{a.respondsTo(l.type)&&t.push(a.createEvent(u,e.query_))})})}function TS(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function IS(e,t,n){if(t.childName==null||n.childName==null)throw Kr("Should only compare child_ events.");const r=new F(t.childName,t.snapshotNode),i=new F(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(e,t){return{eventCache:e,serverCache:t}}function Fi(e,t,n,r){return Yl(new Jn(t,n,r),e.serverCache)}function r0(e,t,n,r){return Yl(e.eventCache,new Jn(t,n,r))}function gc(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Zn(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu;const kS=()=>(Yu||(Yu=new We(hE)),Yu);class Y{constructor(t,n=kS()){this.value=t,this.children=n}static fromObject(t){let n=new Y(null);return Ye(t,(r,i)=>{n=n.set(new V(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:H(),value:this.value};if($(t))return null;{const r=M(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(G(t),n);return s!=null?{path:he(new V(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if($(t))return this;{const n=M(t),r=this.children.get(n);return r!==null?r.subtree(G(t)):new Y(null)}}set(t,n){if($(t))return new Y(n,this.children);{const r=M(t),s=(this.children.get(r)||new Y(null)).set(G(t),n),o=this.children.insert(r,s);return new Y(this.value,o)}}remove(t){if($(t))return this.children.isEmpty()?new Y(null):new Y(null,this.children);{const n=M(t),r=this.children.get(n);if(r){const i=r.remove(G(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Y(null):new Y(this.value,s)}else return this}}get(t){if($(t))return this.value;{const n=M(t),r=this.children.get(n);return r?r.get(G(t)):null}}setTree(t,n){if($(t))return n;{const r=M(t),s=(this.children.get(r)||new Y(null)).setTree(G(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Y(this.value,o)}}fold(t){return this.fold_(H(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(he(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,H(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if($(t))return null;{const s=M(t),o=this.children.get(s);return o?o.findOnPath_(G(t),he(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,H(),n)}foreachOnPath_(t,n,r){if($(t))return this;{this.value&&r(n,this.value);const i=M(t),s=this.children.get(i);return s?s.foreachOnPath_(G(t),he(n,i),r):new Y(null)}}foreach(t){this.foreach_(H(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(he(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(t){this.writeTree_=t}static empty(){return new wt(new Y(null))}}function $i(e,t,n){if($(t))return new wt(new Y(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const o=be(i,t);return s=s.updateChild(o,n),new wt(e.writeTree_.set(i,s))}else{const i=new Y(n),s=e.writeTree_.setTree(t,i);return new wt(s)}}}function Pp(e,t,n){let r=e;return Ye(n,(i,s)=>{r=$i(r,he(t,i),s)}),r}function Ap(e,t){if($(t))return wt.empty();{const n=e.writeTree_.setTree(t,new Y(null));return new wt(n)}}function mc(e,t){return nr(e,t)!=null}function nr(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(be(n.path,t)):null}function Dp(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ie,(r,i)=>{t.push(new F(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new F(r,i.value))}),t}function mn(e,t){if($(t))return e;{const n=nr(e,t);return n!=null?new wt(new Y(n)):new wt(e.writeTree_.subtree(t))}}function _c(e){return e.writeTree_.isEmpty()}function Hr(e,t){return i0(H(),e.writeTree_,t)}function i0(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(w(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=i0(he(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(he(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(e,t){return u0(t,e)}function NS(e,t,n,r,i){w(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=$i(e.visibleWrites,t,n)),e.lastWriteId=r}function xS(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function RS(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);w(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const l=e.allWrites[o];l.visible&&(o>=n&&PS(l,r.path)?i=!1:_t(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return AS(e),!0;if(r.snap)e.visibleWrites=Ap(e.visibleWrites,r.path);else{const l=r.children;Ye(l,u=>{e.visibleWrites=Ap(e.visibleWrites,he(r.path,u))})}return!0}else return!1}function PS(e,t){if(e.snap)return _t(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&_t(he(e.path,n),t))return!0;return!1}function AS(e){e.visibleWrites=s0(e.allWrites,DS,H()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function DS(e){return e.visible}function s0(e,t,n){let r=wt.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let l;if(s.snap)_t(n,o)?(l=be(n,o),r=$i(r,l,s.snap)):_t(o,n)&&(l=be(o,n),r=$i(r,H(),s.snap.getChild(l)));else if(s.children){if(_t(n,o))l=be(n,o),r=Pp(r,l,s.children);else if(_t(o,n))if(l=be(o,n),$(l))r=Pp(r,H(),s.children);else{const u=Ur(s.children,M(l));if(u){const a=u.getChild(G(l));r=$i(r,H(),a)}}}else throw Kr("WriteRecord should have .snap or .children")}}return r}function o0(e,t,n,r,i){if(!r&&!i){const s=nr(e.visibleWrites,t);if(s!=null)return s;{const o=mn(e.visibleWrites,t);if(_c(o))return n;if(n==null&&!mc(o,H()))return null;{const l=n||P.EMPTY_NODE;return Hr(o,l)}}}else{const s=mn(e.visibleWrites,t);if(!i&&_c(s))return n;if(!i&&n==null&&!mc(s,H()))return null;{const o=function(a){return(a.visible||i)&&(!r||!~r.indexOf(a.writeId))&&(_t(a.path,t)||_t(t,a.path))},l=s0(e.allWrites,o,t),u=n||P.EMPTY_NODE;return Hr(l,u)}}}function LS(e,t,n){let r=P.EMPTY_NODE;const i=nr(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ie,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=mn(e.visibleWrites,t);return n.forEachChild(ie,(o,l)=>{const u=Hr(mn(s,new V(o)),l);r=r.updateImmediateChild(o,u)}),Dp(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=mn(e.visibleWrites,t);return Dp(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function OS(e,t,n,r,i){w(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=he(t,n);if(mc(e.visibleWrites,s))return null;{const o=mn(e.visibleWrites,s);return _c(o)?i.getChild(n):Hr(o,i.getChild(n))}}function MS(e,t,n,r){const i=he(t,n),s=nr(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=mn(e.visibleWrites,i);return Hr(o,r.getNode().getImmediateChild(n))}else return null}function FS(e,t){return nr(e.visibleWrites,t)}function $S(e,t,n,r,i,s,o){let l;const u=mn(e.visibleWrites,t),a=nr(u,H());if(a!=null)l=a;else if(n!=null)l=Hr(u,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const h=[],c=o.getCompare(),d=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let m=d.getNext();for(;m&&h.length<i;)c(m,r)!==0&&h.push(m),m=d.getNext();return h}else return[]}function US(){return{visibleWrites:wt.empty(),allWrites:[],lastWriteId:-1}}function al(e,t,n,r){return o0(e.writeTree,e.treePath,t,n,r)}function sd(e,t){return LS(e.writeTree,e.treePath,t)}function Lp(e,t,n,r){return OS(e.writeTree,e.treePath,t,n,r)}function cl(e,t){return FS(e.writeTree,he(e.treePath,t))}function zS(e,t,n,r,i,s){return $S(e.writeTree,e.treePath,t,n,r,i,s)}function od(e,t,n){return MS(e.writeTree,e.treePath,t,n)}function l0(e,t){return u0(he(e.treePath,t),e.writeTree)}function u0(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;w(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),w(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,ps(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,fs(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,jr(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,ps(r,t.snapshotNode,i.oldSnap));else throw Kr("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const a0=new jS;class ld{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Jn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return od(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Zn(this.viewCache_),s=zS(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(e){return{filter:e}}function bS(e,t){w(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),w(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function WS(e,t,n,r,i){const s=new BS;let o,l;if(n.type===vt.OVERWRITE){const a=n;a.source.fromUser?o=vc(e,t,a.path,a.snap,r,i,s):(w(a.source.fromServer,"Unknown source."),l=a.source.tagged||t.serverCache.isFiltered()&&!$(a.path),o=hl(e,t,a.path,a.snap,r,i,l,s))}else if(n.type===vt.MERGE){const a=n;a.source.fromUser?o=GS(e,t,a.path,a.children,r,i,s):(w(a.source.fromServer,"Unknown source."),l=a.source.tagged||t.serverCache.isFiltered(),o=yc(e,t,a.path,a.children,r,i,l,s))}else if(n.type===vt.ACK_USER_WRITE){const a=n;a.revert?o=YS(e,t,a.path,r,i,s):o=KS(e,t,a.path,a.affectedTree,r,i,s)}else if(n.type===vt.LISTEN_COMPLETE)o=QS(e,t,n.path,r,s);else throw Kr("Unknown operation type: "+n.type);const u=s.getChanges();return VS(t,o,u),{viewCache:o,changes:u}}function VS(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=gc(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(e0(gc(t)))}}function c0(e,t,n,r,i,s){const o=t.eventCache;if(cl(r,n)!=null)return t;{let l,u;if($(n))if(w(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const a=Zn(t),h=a instanceof P?a:P.EMPTY_NODE,c=sd(r,h);l=e.filter.updateFullNode(t.eventCache.getNode(),c,s)}else{const a=al(r,Zn(t));l=e.filter.updateFullNode(t.eventCache.getNode(),a,s)}else{const a=M(n);if(a===".priority"){w(yn(n)===1,"Can't have a priority with additional path components");const h=o.getNode();u=t.serverCache.getNode();const c=Lp(r,n,h,u);c!=null?l=e.filter.updatePriority(h,c):l=o.getNode()}else{const h=G(n);let c;if(o.isCompleteForChild(a)){u=t.serverCache.getNode();const d=Lp(r,n,o.getNode(),u);d!=null?c=o.getNode().getImmediateChild(a).updateChild(h,d):c=o.getNode().getImmediateChild(a)}else c=od(r,a,t.serverCache);c!=null?l=e.filter.updateChild(o.getNode(),a,c,h,i,s):l=o.getNode()}}return Fi(t,l,o.isFullyInitialized()||$(n),e.filter.filtersNodes())}}function hl(e,t,n,r,i,s,o,l){const u=t.serverCache;let a;const h=o?e.filter:e.filter.getIndexedFilter();if($(n))a=h.updateFullNode(u.getNode(),r,null);else if(h.filtersNodes()&&!u.isFiltered()){const m=u.getNode().updateChild(n,r);a=h.updateFullNode(u.getNode(),m,null)}else{const m=M(n);if(!u.isCompleteForPath(n)&&yn(n)>1)return t;const _=G(n),D=u.getNode().getImmediateChild(m).updateChild(_,r);m===".priority"?a=h.updatePriority(u.getNode(),D):a=h.updateChild(u.getNode(),m,D,_,a0,null)}const c=r0(t,a,u.isFullyInitialized()||$(n),h.filtersNodes()),d=new ld(i,c,s);return c0(e,c,n,i,d,l)}function vc(e,t,n,r,i,s,o){const l=t.eventCache;let u,a;const h=new ld(i,t,s);if($(n))a=e.filter.updateFullNode(t.eventCache.getNode(),r,o),u=Fi(t,a,!0,e.filter.filtersNodes());else{const c=M(n);if(c===".priority")a=e.filter.updatePriority(t.eventCache.getNode(),r),u=Fi(t,a,l.isFullyInitialized(),l.isFiltered());else{const d=G(n),m=l.getNode().getImmediateChild(c);let _;if($(d))_=r;else{const v=h.getCompleteChild(c);v!=null?V_(d)===".priority"&&v.getChild(K_(d)).isEmpty()?_=v:_=v.updateChild(d,r):_=P.EMPTY_NODE}if(m.equals(_))u=t;else{const v=e.filter.updateChild(l.getNode(),c,_,d,h,o);u=Fi(t,v,l.isFullyInitialized(),e.filter.filtersNodes())}}}return u}function Op(e,t){return e.eventCache.isCompleteForChild(t)}function GS(e,t,n,r,i,s,o){let l=t;return r.foreach((u,a)=>{const h=he(n,u);Op(t,M(h))&&(l=vc(e,l,h,a,i,s,o))}),r.foreach((u,a)=>{const h=he(n,u);Op(t,M(h))||(l=vc(e,l,h,a,i,s,o))}),l}function Mp(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function yc(e,t,n,r,i,s,o,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let u=t,a;$(n)?a=r:a=new Y(null).setTree(n,r);const h=t.serverCache.getNode();return a.children.inorderTraversal((c,d)=>{if(h.hasChild(c)){const m=t.serverCache.getNode().getImmediateChild(c),_=Mp(e,m,d);u=hl(e,u,new V(c),_,i,s,o,l)}}),a.children.inorderTraversal((c,d)=>{const m=!t.serverCache.isCompleteForChild(c)&&d.value===null;if(!h.hasChild(c)&&!m){const _=t.serverCache.getNode().getImmediateChild(c),v=Mp(e,_,d);u=hl(e,u,new V(c),v,i,s,o,l)}}),u}function KS(e,t,n,r,i,s,o){if(cl(i,n)!=null)return t;const l=t.serverCache.isFiltered(),u=t.serverCache;if(r.value!=null){if($(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return hl(e,t,n,u.getNode().getChild(n),i,s,l,o);if($(n)){let a=new Y(null);return u.getNode().forEachChild(Rr,(h,c)=>{a=a.set(new V(h),c)}),yc(e,t,n,a,i,s,l,o)}else return t}else{let a=new Y(null);return r.foreach((h,c)=>{const d=he(n,h);u.isCompleteForPath(d)&&(a=a.set(h,u.getNode().getChild(d)))}),yc(e,t,n,a,i,s,l,o)}}function QS(e,t,n,r,i){const s=t.serverCache,o=r0(t,s.getNode(),s.isFullyInitialized()||$(n),s.isFiltered());return c0(e,o,n,r,a0,i)}function YS(e,t,n,r,i,s){let o;if(cl(r,n)!=null)return t;{const l=new ld(r,t,i),u=t.eventCache.getNode();let a;if($(n)||M(n)===".priority"){let h;if(t.serverCache.isFullyInitialized())h=al(r,Zn(t));else{const c=t.serverCache.getNode();w(c instanceof P,"serverChildren would be complete if leaf node"),h=sd(r,c)}h=h,a=e.filter.updateFullNode(u,h,s)}else{const h=M(n);let c=od(r,h,t.serverCache);c==null&&t.serverCache.isCompleteForChild(h)&&(c=u.getImmediateChild(h)),c!=null?a=e.filter.updateChild(u,h,c,G(n),l,s):t.eventCache.getNode().hasChild(h)?a=e.filter.updateChild(u,h,P.EMPTY_NODE,G(n),l,s):a=u,a.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=al(r,Zn(t)),o.isLeafNode()&&(a=e.filter.updateFullNode(a,o,s)))}return o=t.serverCache.isFullyInitialized()||cl(r,H())!=null,Fi(t,a,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new ed(r.getIndex()),s=gS(r);this.processor_=HS(s);const o=n.serverCache,l=n.eventCache,u=i.updateFullNode(P.EMPTY_NODE,o.getNode(),null),a=s.updateFullNode(P.EMPTY_NODE,l.getNode(),null),h=new Jn(u,o.isFullyInitialized(),i.filtersNodes()),c=new Jn(a,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Yl(c,h),this.eventGenerator_=new ES(this.query_)}get query(){return this.query_}}function XS(e){return e.viewCache_.serverCache.getNode()}function JS(e,t){const n=Zn(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!$(t)&&!n.getImmediateChild(M(t)).isEmpty())?n.getChild(t):null}function Fp(e){return e.eventRegistrations_.length===0}function ZS(e,t){e.eventRegistrations_.push(t)}function $p(e,t,n){const r=[];if(n){w(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(!o.matches(t))i.push(o);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function Up(e,t,n,r){t.type===vt.MERGE&&t.source.queryId!==null&&(w(Zn(e.viewCache_),"We should always have a full cache before handling merges"),w(gc(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=WS(e.processor_,i,t,n,r);return bS(e.processor_,s.viewCache),w(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,h0(e,s.changes,s.viewCache.eventCache.getNode(),null)}function e3(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ie,(s,o)=>{r.push(jr(s,o))}),n.isFullyInitialized()&&r.push(e0(n.getNode())),h0(e,r,n.getNode(),t)}function h0(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return SS(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl;class t3{constructor(){this.views=new Map}}function n3(e){w(!dl,"__referenceConstructor has already been defined"),dl=e}function r3(){return w(dl,"Reference.ts has not been loaded"),dl}function i3(e){return e.views.size===0}function ud(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return w(s!=null,"SyncTree gave us an op for an invalid query."),Up(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(Up(o,t,n,r));return s}}function s3(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let l=al(n,i?r:null),u=!1;l?u=!0:r instanceof P?(l=sd(n,r),u=!1):(l=P.EMPTY_NODE,u=!1);const a=Yl(new Jn(l,u,!1),new Jn(r,i,!1));return new qS(t,a)}return o}function o3(e,t,n,r,i,s){const o=s3(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),ZS(o,n),e3(o,n)}function l3(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const l=Cn(e);if(i==="default")for(const[u,a]of e.views.entries())o=o.concat($p(a,n,r)),Fp(a)&&(e.views.delete(u),a.query._queryParams.loadsAllData()||s.push(a.query));else{const u=e.views.get(i);u&&(o=o.concat($p(u,n,r)),Fp(u)&&(e.views.delete(i),u.query._queryParams.loadsAllData()||s.push(u.query)))}return l&&!Cn(e)&&s.push(new(r3())(t._repo,t._path)),{removed:s,events:o}}function d0(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Pr(e,t){let n=null;for(const r of e.views.values())n=n||JS(r,t);return n}function f0(e,t){if(t._queryParams.loadsAllData())return ql(e);{const r=t._queryIdentifier;return e.views.get(r)}}function p0(e,t){return f0(e,t)!=null}function Cn(e){return ql(e)!=null}function ql(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl;function u3(e){w(!fl,"__referenceConstructor has already been defined"),fl=e}function a3(){return w(fl,"Reference.ts has not been loaded"),fl}let c3=1;class zp{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Y(null),this.pendingWriteTree_=US(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function g0(e,t,n,r,i){return NS(e.pendingWriteTree_,t,n,r,i),i?Fs(e,new Xn(n0(),t,n)):[]}function zn(e,t,n=!1){const r=xS(e.pendingWriteTree_,t);if(RS(e.pendingWriteTree_,t)){let s=new Y(null);return r.snap!=null?s=s.set(H(),!0):Ye(r.children,o=>{s=s.set(new V(o),!0)}),Fs(e,new ul(r.path,s,n))}else return[]}function Xl(e,t,n){return Fs(e,new Xn(nd(),t,n))}function h3(e,t,n){const r=Y.fromObject(n);return Fs(e,new _s(nd(),t,r))}function d3(e,t){return Fs(e,new ms(nd(),t))}function f3(e,t,n){const r=cd(e,n);if(r){const i=hd(r),s=i.path,o=i.queryId,l=be(s,t),u=new ms(rd(o),l);return dd(e,s,u)}else return[]}function Cc(e,t,n,r,i=!1){const s=t._path,o=e.syncPointTree_.get(s);let l=[];if(o&&(t._queryIdentifier==="default"||p0(o,t))){const u=l3(o,t,n,r);i3(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const a=u.removed;if(l=u.events,!i){const h=a.findIndex(d=>d._queryParams.loadsAllData())!==-1,c=e.syncPointTree_.findOnPath(s,(d,m)=>Cn(m));if(h&&!c){const d=e.syncPointTree_.subtree(s);if(!d.isEmpty()){const m=m3(d);for(let _=0;_<m.length;++_){const v=m[_],D=v.query,p=v0(e,v);e.listenProvider_.startListening(Ui(D),pl(e,D),p.hashFn,p.onComplete)}}}!c&&a.length>0&&!r&&(h?e.listenProvider_.stopListening(Ui(t),null):a.forEach(d=>{const m=e.queryToTagMap.get(Jl(d));e.listenProvider_.stopListening(Ui(d),m)}))}_3(e,a)}return l}function p3(e,t,n,r){const i=cd(e,r);if(i!=null){const s=hd(i),o=s.path,l=s.queryId,u=be(o,t),a=new Xn(rd(l),u,n);return dd(e,o,a)}else return[]}function g3(e,t,n,r){const i=cd(e,r);if(i){const s=hd(i),o=s.path,l=s.queryId,u=be(o,t),a=Y.fromObject(n),h=new _s(rd(l),u,a);return dd(e,o,h)}else return[]}function Bp(e,t,n,r=!1){const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(d,m)=>{const _=be(d,i);s=s||Pr(m,_),o=o||Cn(m)});let l=e.syncPointTree_.get(i);l?(o=o||Cn(l),s=s||Pr(l,H())):(l=new t3,e.syncPointTree_=e.syncPointTree_.set(i,l));let u;s!=null?u=!0:(u=!1,s=P.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((m,_)=>{const v=Pr(_,H());v&&(s=s.updateImmediateChild(m,v))}));const a=p0(l,t);if(!a&&!t._queryParams.loadsAllData()){const d=Jl(t);w(!e.queryToTagMap.has(d),"View does not exist, but we have a tag");const m=v3();e.queryToTagMap.set(d,m),e.tagToQueryMap.set(m,d)}const h=id(e.pendingWriteTree_,i);let c=o3(l,t,n,h,s,u);if(!a&&!o&&!r){const d=f0(l,t);c=c.concat(y3(e,t,d))}return c}function ad(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,l)=>{const u=be(o,t),a=Pr(l,u);if(a)return a});return o0(i,t,s,n,!0)}function Fs(e,t){return m0(t,e.syncPointTree_,null,id(e.pendingWriteTree_,H()))}function m0(e,t,n,r){if($(e.path))return _0(e,t,n,r);{const i=t.get(H());n==null&&i!=null&&(n=Pr(i,H()));let s=[];const o=M(e.path),l=e.operationForChild(o),u=t.children.get(o);if(u&&l){const a=n?n.getImmediateChild(o):null,h=l0(r,o);s=s.concat(m0(l,u,a,h))}return i&&(s=s.concat(ud(i,e,r,n))),s}}function _0(e,t,n,r){const i=t.get(H());n==null&&i!=null&&(n=Pr(i,H()));let s=[];return t.children.inorderTraversal((o,l)=>{const u=n?n.getImmediateChild(o):null,a=l0(r,o),h=e.operationForChild(o);h&&(s=s.concat(_0(h,l,u,a)))}),i&&(s=s.concat(ud(i,e,r,n))),s}function v0(e,t){const n=t.query,r=pl(e,n);return{hashFn:()=>(XS(t)||P.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?f3(e,n._path,r):d3(e,n._path);{const s=pE(i,n);return Cc(e,n,null,s)}}}}function pl(e,t){const n=Jl(t);return e.queryToTagMap.get(n)}function Jl(e){return e._path.toString()+"$"+e._queryIdentifier}function cd(e,t){return e.tagToQueryMap.get(t)}function hd(e){const t=e.indexOf("$");return w(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new V(e.substr(0,t))}}function dd(e,t,n){const r=e.syncPointTree_.get(t);w(r,"Missing sync point for query tag that we're tracking");const i=id(e.pendingWriteTree_,t);return ud(r,n,i,null)}function m3(e){return e.fold((t,n,r)=>{if(n&&Cn(n))return[ql(n)];{let i=[];return n&&(i=d0(n)),Ye(r,(s,o)=>{i=i.concat(o)}),i}})}function Ui(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(a3())(e._repo,e._path):e}function _3(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=Jl(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function v3(){return c3++}function y3(e,t,n){const r=t._path,i=pl(e,t),s=v0(e,n),o=e.listenProvider_.startListening(Ui(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)w(!Cn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const u=l.fold((a,h,c)=>{if(!$(a)&&h&&Cn(h))return[ql(h).query];{let d=[];return h&&(d=d.concat(d0(h).map(m=>m.query))),Ye(c,(m,_)=>{d=d.concat(_)}),d}});for(let a=0;a<u.length;++a){const h=u[a];e.listenProvider_.stopListening(Ui(h),pl(e,h))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new fd(n)}node(){return this.node_}}class pd{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=he(this.path_,t);return new pd(this.syncTree_,n)}node(){return ad(this.syncTree_,this.path_)}}const C3=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},jp=function(e,t,n){if(!e||typeof e!="object")return e;if(w(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return w3(e[".sv"],t,n);if(typeof e[".sv"]=="object")return E3(e[".sv"],t);w(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},w3=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:w(!1,"Unexpected server value: "+e)}},E3=function(e,t,n){e.hasOwnProperty("increment")||w(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&w(!1,"Unexpected increment value: "+r);const i=t.node();if(w(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},S3=function(e,t,n,r){return gd(t,new pd(n,e),r)},y0=function(e,t,n){return gd(e,new fd(t),n)};function gd(e,t,n){const r=e.getPriority().val(),i=jp(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,l=jp(o.getValue(),t,n);return l!==o.getValue()||i!==o.getPriority().val()?new pe(l,we(i)):e}else{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new pe(i))),o.forEachChild(ie,(l,u)=>{const a=gd(u,t.getImmediateChild(l),n);a!==u&&(s=s.updateImmediateChild(l,a))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function _d(e,t){let n=t instanceof V?t:new V(t),r=e,i=M(n);for(;i!==null;){const s=Ur(r.node.children,i)||{children:{},childCount:0};r=new md(i,r,s),n=G(n),i=M(n)}return r}function ei(e){return e.node.value}function C0(e,t){e.node.value=t,wc(e)}function w0(e){return e.node.childCount>0}function T3(e){return ei(e)===void 0&&!w0(e)}function Zl(e,t){Ye(e.node.children,(n,r)=>{t(new md(n,e,r))})}function E0(e,t,n,r){n&&!r&&t(e),Zl(e,i=>{E0(i,t,!0,r)}),n&&r&&t(e)}function I3(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function $s(e){return new V(e.parent===null?e.name:$s(e.parent)+"/"+e.name)}function wc(e){e.parent!==null&&k3(e.parent,e.name,e)}function k3(e,t,n){const r=T3(n),i=Qt(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,wc(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,wc(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=/[\[\].#$\/\u0000-\u001F\u007F]/,x3=/[\[\].#$\u0000-\u001F\u007F]/,qu=10*1024*1024,S0=function(e){return typeof e=="string"&&e.length!==0&&!N3.test(e)},T0=function(e){return typeof e=="string"&&e.length!==0&&!x3.test(e)},R3=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),T0(e)},P3=function(e,t,n,r){r&&t===void 0||vd(yh(e,"value"),t,n)},vd=function(e,t,n){const r=n instanceof V?new KE(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Dn(r));if(typeof t=="function")throw new Error(e+"contains a function "+Dn(r)+" with contents = "+t.toString());if(T_(t))throw new Error(e+"contains "+t.toString()+" "+Dn(r));if(typeof t=="string"&&t.length>qu/3&&Dl(t)>qu)throw new Error(e+"contains a string greater than "+qu+" utf8 bytes "+Dn(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(Ye(t,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!S0(o)))throw new Error(e+" contains an invalid key ("+o+") "+Dn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);QE(r,o),vd(e,l,r),YE(r)}),i&&s)throw new Error(e+' contains ".value" child '+Dn(r)+" in addition to actual children.")}},I0=function(e,t,n,r){if(!(r&&n===void 0)&&!T0(n))throw new Error(yh(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},A3=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),I0(e,t,n,r)},D3=function(e,t){if(M(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},L3=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!S0(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!R3(n))throw new Error(yh(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function yd(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!Xh(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function k0(e,t,n){yd(e,n),N0(e,r=>Xh(r,t))}function Gt(e,t,n){yd(e,n),N0(e,r=>_t(r,t)||_t(t,r))}function N0(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(M3(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function M3(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();bn&&Ae("event: "+n.toString()),Zr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3="repo_interrupt",$3=25;class U3{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new O3,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ll(),this.transactionQueueTree_=new md,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function z3(e,t,n){if(e.stats_=Yh(e.repoInfo_),e.forceRestClient_||vE())e.server_=new ol(e.repoInfo_,(r,i,s,o)=>{Hp(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>bp(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{_e(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new zt(e.repoInfo_,t,(r,i,s,o)=>{Hp(e,r,i,s,o)},r=>{bp(e,r)},r=>{j3(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=SE(e.repoInfo_,()=>new wS(e.stats_,e.server_)),e.infoData_=new mS,e.infoSyncTree_=new zp({startListening:(r,i,s,o)=>{let l=[];const u=e.infoData_.getNode(r._path);return u.isEmpty()||(l=Xl(e.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),wd(e,"connected",!1),e.serverSyncTree_=new zp({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(l,u)=>{const a=o(l,u);Gt(e.eventQueue_,r._path,a)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function B3(e){const n=e.infoData_.getNode(new V(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Cd(e){return C3({timestamp:B3(e)})}function Hp(e,t,n,r,i){e.dataUpdateCount++;const s=new V(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const u=Go(n,a=>we(a));o=g3(e.serverSyncTree_,s,u,i)}else{const u=we(n);o=p3(e.serverSyncTree_,s,u,i)}else if(r){const u=Go(n,a=>we(a));o=h3(e.serverSyncTree_,s,u)}else{const u=we(n);o=Xl(e.serverSyncTree_,s,u)}let l=s;o.length>0&&(l=eu(e,s)),Gt(e.eventQueue_,l,o)}function bp(e,t){wd(e,"connected",t),t===!1&&b3(e)}function j3(e,t){Ye(t,(n,r)=>{wd(e,n,r)})}function wd(e,t,n){const r=new V("/.info/"+t),i=we(n);e.infoData_.updateSnapshot(r,i);const s=Xl(e.infoSyncTree_,r,i);Gt(e.eventQueue_,r,s)}function x0(e){return e.nextWriteId_++}function H3(e,t,n,r,i){Ed(e,"set",{path:t.toString(),value:n,priority:r});const s=Cd(e),o=we(n,r),l=ad(e.serverSyncTree_,t),u=y0(o,l,s),a=x0(e),h=g0(e.serverSyncTree_,t,u,a,!0);yd(e.eventQueue_,h),e.server_.put(t.toString(),o.val(!0),(d,m)=>{const _=d==="ok";_||Qe("set at "+t+" failed: "+d);const v=zn(e.serverSyncTree_,a,!_);Gt(e.eventQueue_,t,v),G3(e,i,d,m)});const c=L0(e,t);eu(e,c),Gt(e.eventQueue_,c,[])}function b3(e){Ed(e,"onDisconnectEvents");const t=Cd(e),n=ll();pc(e.onDisconnect_,H(),(i,s)=>{const o=S3(i,s,e.serverSyncTree_,t);t0(n,i,o)});let r=[];pc(n,H(),(i,s)=>{r=r.concat(Xl(e.serverSyncTree_,i,s));const o=L0(e,i);eu(e,o)}),e.onDisconnect_=ll(),Gt(e.eventQueue_,H(),r)}function W3(e,t,n){let r;M(t._path)===".info"?r=Bp(e.infoSyncTree_,t,n):r=Bp(e.serverSyncTree_,t,n),k0(e.eventQueue_,t._path,r)}function Wp(e,t,n){let r;M(t._path)===".info"?r=Cc(e.infoSyncTree_,t,n):r=Cc(e.serverSyncTree_,t,n),k0(e.eventQueue_,t._path,r)}function V3(e){e.persistentConnection_&&e.persistentConnection_.interrupt(F3)}function Ed(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Ae(n,...t)}function G3(e,t,n,r){t&&Zr(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,t(o)}})}function R0(e,t,n){return ad(e.serverSyncTree_,t,n)||P.EMPTY_NODE}function Sd(e,t=e.transactionQueueTree_){if(t||tu(e,t),ei(t)){const n=A0(e,t);w(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&K3(e,$s(t),n)}else w0(t)&&Zl(t,n=>{Sd(e,n)})}function K3(e,t,n){const r=n.map(a=>a.currentWriteId),i=R0(e,t,r);let s=i;const o=i.hash();for(let a=0;a<n.length;a++){const h=n[a];w(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const c=be(t,h.path);s=s.updateChild(c,h.currentOutputSnapshotRaw)}const l=s.val(!0),u=t;e.server_.put(u.toString(),l,a=>{Ed(e,"transaction put response",{path:u.toString(),status:a});let h=[];if(a==="ok"){const c=[];for(let d=0;d<n.length;d++)n[d].status=2,h=h.concat(zn(e.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&c.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();tu(e,_d(e.transactionQueueTree_,t)),Sd(e,e.transactionQueueTree_),Gt(e.eventQueue_,t,h);for(let d=0;d<c.length;d++)Zr(c[d])}else{if(a==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{Qe("transaction at "+u.toString()+" failed: "+a);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=a}eu(e,t)}},o)}function eu(e,t){const n=P0(e,t),r=$s(n),i=A0(e,n);return Q3(e,i,r),r}function Q3(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const u=t[l],a=be(n,u.path);let h=!1,c;if(w(a!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)h=!0,c=u.abortReason,i=i.concat(zn(e.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=$3)h=!0,c="maxretry",i=i.concat(zn(e.serverSyncTree_,u.currentWriteId,!0));else{const d=R0(e,u.path,o);u.currentInputSnapshot=d;const m=t[l].update(d.val());if(m!==void 0){vd("transaction failed: Data returned ",m,u.path);let _=we(m);typeof m=="object"&&m!=null&&Qt(m,".priority")||(_=_.updatePriority(d.getPriority()));const D=u.currentWriteId,p=Cd(e),f=y0(_,d,p);u.currentOutputSnapshotRaw=_,u.currentOutputSnapshotResolved=f,u.currentWriteId=x0(e),o.splice(o.indexOf(D),1),i=i.concat(g0(e.serverSyncTree_,u.path,f,u.currentWriteId,u.applyLocally)),i=i.concat(zn(e.serverSyncTree_,D,!0))}else h=!0,c="nodata",i=i.concat(zn(e.serverSyncTree_,u.currentWriteId,!0))}Gt(e.eventQueue_,n,i),i=[],h&&(t[l].status=2,function(d){setTimeout(d,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(c==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(c),!1,null))))}tu(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Zr(r[l]);Sd(e,e.transactionQueueTree_)}function P0(e,t){let n,r=e.transactionQueueTree_;for(n=M(t);n!==null&&ei(r)===void 0;)r=_d(r,n),t=G(t),n=M(t);return r}function A0(e,t){const n=[];return D0(e,t,n),n.sort((r,i)=>r.order-i.order),n}function D0(e,t,n){const r=ei(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Zl(t,i=>{D0(e,i,n)})}function tu(e,t){const n=ei(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,C0(t,n.length>0?n:void 0)}Zl(t,r=>{tu(e,r)})}function L0(e,t){const n=$s(P0(e,t)),r=_d(e.transactionQueueTree_,t);return I3(r,i=>{Xu(e,i)}),Xu(e,r),E0(r,i=>{Xu(e,i)}),n}function Xu(e,t){const n=ei(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(w(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(w(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(zn(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?C0(t,void 0):n.length=s+1,Gt(e.eventQueue_,$s(t),i);for(let o=0;o<r.length;o++)Zr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function q3(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Qe(`Invalid query segment '${n}' in query '${e}'`)}return t}const Vp=function(e,t){const n=X3(e),r=n.namespace;n.domain==="firebase.com"&&Vt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Vt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||aE();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new F_(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new V(n.pathString)}},X3=function(e){let t="",n="",r="",i="",s="",o=!0,l="https",u=443;if(typeof e=="string"){let a=e.indexOf("//");a>=0&&(l=e.substring(0,a-1),e=e.substring(a+2));let h=e.indexOf("/");h===-1&&(h=e.length);let c=e.indexOf("?");c===-1&&(c=e.length),t=e.substring(0,Math.min(h,c)),h<c&&(i=Y3(e.substring(h,c)));const d=q3(e.substring(Math.min(e.length,c)));a=t.indexOf(":"),a>=0?(o=l==="https"||l==="wss",u=parseInt(t.substring(a+1),10)):a=t.length;const m=t.slice(0,a);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const _=t.indexOf(".");r=t.substring(0,_).toLowerCase(),n=t.substring(_+1),s=r}"ns"in d&&(s=d.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+_e(this.snapshot.exportVal())}}class M0{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return w(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return $(this._path)?null:V_(this._path)}get ref(){return new Yt(this._repo,this._path)}get _queryIdentifier(){const t=xp(this._queryParams),n=Kh(t);return n==="{}"?"default":n}get _queryObject(){return xp(this._queryParams)}isEqual(t){if(t=Ts(t),!(t instanceof Td))return!1;const n=this._repo===t._repo,r=Xh(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+GE(this._path)}}class Yt extends Td{constructor(t,n){super(t,n,new td,!1)}get parent(){const t=K_(this._path);return t===null?null:new Yt(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class vs{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new V(t),r=gl(this.ref,t);return new vs(this._node.getChild(n),r,ie)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new vs(i,gl(this.ref,r),ie)))}hasChild(t){const n=new V(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function wn(e,t){return e=Ts(e),e._checkNotDeleted("ref"),t!==void 0?gl(e._root,t):e._root}function gl(e,t){return e=Ts(e),M(e._path)===null?A3("child","path",t,!1):I0("child","path",t,!1),new Yt(e._repo,he(e._path,t))}function F0(e,t){e=Ts(e),D3("set",e._path),P3("set",t,e._path,!1);const n=new Al;return H3(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}class Id{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new O0("value",this,new vs(t.snapshotNode,new Yt(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new M0(this,t,n):null}matches(t){return t instanceof Id?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class kd{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new M0(this,t,n):null}createEvent(t,n){w(t.childName!=null,"Child events should have a childName.");const r=gl(new Yt(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new O0(t.type,this,new vs(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof kd?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Z3(e,t,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const u=n,a=(h,c)=>{Wp(e._repo,e,l),u(h,c)};a.userCallback=n.userCallback,a.context=n.context,n=a}const o=new J3(n,s||void 0),l=t==="value"?new Id(o):new kd(t,o);return W3(e._repo,e,l),()=>Wp(e._repo,e,l)}function br(e,t,n,r){return Z3(e,"value",t,n,r)}n3(Yt);u3(Yt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4="FIREBASE_DATABASE_EMULATOR_HOST",Ec={};let t4=!1;function n4(e,t,n,r){e.repoInfo_=new F_(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function r4(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||Vt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ae("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=Vp(s,i),l=o.repoInfo,u,a;typeof process<"u"&&process.env&&(a=process.env[e4]),a?(u=!0,s=`http://${a}?ns=${l.namespace}`,o=Vp(s,i),l=o.repoInfo):u=!o.repoInfo.secure;const h=i&&u?new xr(xr.OWNER):new CE(e.name,e.options,t);L3("Invalid Firebase Database URL",o),$(o.path)||Vt("Database URL must point to the root of a Firebase Database (not including a child path).");const c=s4(l,e,h,new yE(e.name,n));return new o4(c,e)}function i4(e,t){const n=Ec[t];(!n||n[e.key]!==e)&&Vt(`Database ${t}(${e.repoInfo_}) has already been deleted.`),V3(e),delete n[e.key]}function s4(e,t,n,r){let i=Ec[t.name];i||(i={},Ec[t.name]=i);let s=i[e.toURLString()];return s&&Vt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new U3(e,t4,n,r),i[e.toURLString()]=s,s}class o4{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(z3(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yt(this._repo,H())),this._rootInternal}_delete(){return this._rootInternal!==null&&(i4(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Vt("Cannot call "+t+" on a deleted database.")}}function ti(e=AC(),t){const n=xC(e,"database").getImmediate({identifier:t}),r=S2("database");return r&&l4(n,...r),n}function l4(e,t,n,r={}){e=Ts(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Vt("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Vt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new xr(xr.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:I2(r.mockUserToken,e.app.options.projectId);s=new xr(o)}n4(i,t,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(e){iE(p1),is(new zr("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return r4(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),gn(hp,dp,e),gn(hp,dp,"esm2017")}zt.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};zt.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};u4();const a4={apiKey:"AIzaSyAUXdLZgWpjIbJ7sdNBZ4nbL0DKrNunLt8",authDomain:"millionaire-pro.firebaseapp.com",projectId:"millionaire-pro",storageBucket:"millionaire-pro.appspot.com",messagingSenderId:"585836439005",appId:"1:585836439005:web:b2f368577ddc298d3a0234",measurementId:"G-9Q10N4VFL0",databaseURL:"https://millionaire-pro-default-rtdb.europe-west1.firebasedatabase.app/"},c4=g1(a4),$0=ti(c4);var nu={exports:{}},ru={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h4=ee.exports,d4=Symbol.for("react.element"),f4=Symbol.for("react.fragment"),p4=Object.prototype.hasOwnProperty,g4=h4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m4={key:!0,ref:!0,__self:!0,__source:!0};function U0(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)p4.call(t,r)&&!m4.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:d4,type:e,key:s,ref:o,props:i,_owner:g4.current}}ru.Fragment=f4;ru.jsx=U0;ru.jsxs=U0;(function(e){e.exports=ru})(nu);const rr=nu.exports.Fragment,E=nu.exports.jsx,Ee=nu.exports.jsxs,_4=ee.exports.createContext({db:$0}),v4=({children:e})=>E(_4.Provider,{value:{db:$0},children:e}),y4="_gameContainer_k1ts4_1",C4="_game_k1ts4_1",w4="_question_k1ts4_17",E4="_answers_k1ts4_21",S4="_answer_k1ts4_21",Ti={gameContainer:y4,game:C4,question:w4,answers:E4,answer:S4},T4="_menuContainer_1xv93_1",I4="_menu_1xv93_1",k4="_burger_1xv93_17",N4="_close_1xv93_24",x4="_menuContainer_opened_1xv93_45",_i={menuContainer:T4,menu:I4,burger:k4,close:N4,menuContainer_opened:x4},R4="_optionButtonContainer_bgnp5_1",P4="_optionButtonContainer_small_bgnp5_7",A4="_optionButtonSVG_bgnp5_12",D4="_optionButton_bgnp5_1",L4="_optionButton_pointer_bgnp5_26",O4="_optionButton_selected_bgnp5_29",M4="_optionButton_correct_bgnp5_33",F4="_optionButton_wrong_bgnp5_37",$4="_optionButton_active_bgnp5_41",U4="_buttonText_bgnp5_48",z4="_buttonText_center_bgnp5_60",B4="_buttonText_disabled_bgnp5_63",j4="_buttonText_active_bgnp5_66",H4="_buttonText_pointer_bgnp5_69",b4="_buttonText_option_bgnp5_72",W4="_shine_bgnp5_1",Re={optionButtonContainer:R4,optionButtonContainer_small:P4,optionButtonSVG:A4,optionButton:D4,optionButton_pointer:L4,optionButton_selected:O4,optionButton_correct:M4,optionButton_wrong:F4,optionButton_active:$4,buttonText:U4,buttonText_center:z4,buttonText_disabled:B4,buttonText_active:j4,buttonText_pointer:H4,buttonText_option:b4,shine:W4};var z0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(!!s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var l=n.apply(null,s);l&&r.push(l)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var u in s)t.call(s,u)&&s[u]&&r.push(u)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(z0);const zi=z0.exports,Nd=({children:e,option:t,selected:n,isCorrect:r,isWrong:i,onClick:s,center:o,disabled:l,isActive:u,size:a="big",isLoading:h})=>{const c=zi({[Re.optionButtonContainer]:!0,[Re.optionButtonContainer_small]:a==="small"}),d=zi({[Re.optionButton]:!0,[Re.optionButton_pointer]:!!s,[Re.optionButton_selected]:n,[Re.optionButton_correct]:r,[Re.optionButton_wrong]:i,[Re.optionButton_active]:u,[Re.optionButton_loading]:h}),m=zi({[Re.buttonText]:!0,[Re.buttonText_pointer]:!!s,[Re.buttonText_center]:o,[Re.buttonText_disabled]:l,[Re.buttonText_active]:u});return Ee("div",{className:c,children:[Ee("div",{className:m,onClick:s,children:[t&&E("span",{className:Re.buttonText_option,children:t}),E("span",{children:e})]}),E("svg",{onClick:s,className:Re.optionButtonSVG,width:"100%",height:"100%",viewBox:"0 0 413 72",fill:"none",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:Ee("g",{className:d,children:[h&&E("defs",{children:Ee("linearGradient",{id:"myGradient",x1:"0%",y1:"50%",x2:"100%",y2:"50%",children:[E("stop",{offset:"8%",stopColor:"#ececec",children:E("animate",{attributeName:"stop-color",values:"#ececec; #fff; #ececec",dur:"4s",repeatCount:"indefinite"})}),E("stop",{offset:"18%",stopColor:"#f5f5f5",children:E("animate",{attributeName:"stop-color",values:"#ececec; #fff; #ececec",dur:"4s",repeatCount:"indefinite"})}),E("stop",{offset:"33%",stopColor:"#ececec",children:E("animate",{attributeName:"stop-color",values:"#ececec; #fff; #ececec",dur:"4s",repeatCount:"indefinite"})})]})}),E("path",{fill:h?"url(#myGradient)":void 0,d:"M 42.7172 5.2834 C 44.8781 2.2802 48.3521 0.5 52.052 0.5 H 360.948 C 364.648 0.5 368.122 2.2802 370.283 5.2834 L 392.384 36 H 412.384 H 392.384 L 370.283 66.7166 C 368.122 69.7198 364.648 71.5 360.948 71.5 H 52.052 C 48.3521 71.5 44.8781 69.7198 42.7172 66.7166 L 20 36 H 0 H 20 L 42.7172 5.2834 Z"})]})})]})},V4=()=>{const e=[...Array(12).keys()];return E(rr,{children:e.map((t,n)=>E(Nd,{isLoading:!0,size:"small"},`key${n}`))})},B0=e=>{if(isNaN(+e))return"$0";{const t=String(e);return"$"+t.split("").reverse().reduce((n,r,i)=>{let s=r+n;return(i+1)%3===0&&i+1!==t.length&&(s=","+s),s},"")}},Sc={isNull:e=>e===null,isUndefined:e=>typeof e>"u",isNullOrUndefined:e=>Sc.isNull(e)||Sc.isUndefined(e)},G4={isNullOrEmpty:e=>Sc.isNullOrUndefined(e)?!0:e.toString().trim().length===0},Ju="_MI_",At={currentGameId:"currentGameId",currentLevelId:"currentLevelId"},et={_getParsedProp(e){const t=window.localStorage.getItem(`${Ju}${e}`);return t===null?null:JSON.parse(t)},_setParsedProp(e,t){window.localStorage.setItem(`${Ju}${e}`,JSON.stringify(t))},_removeProp(e){window.localStorage.removeItem(`${Ju}${e}`)},setItem(e,t){if(String(e).length===0)throw new Error("Provide key for storage manager");et._setParsedProp(e,t)},getItem(e){if(String(e).length===0)throw new Error("Provide key for storage manager");const t=et._getParsedProp(e);return t===null?null:typeof t=="object"?t:G4.isNullOrEmpty(t)?null:t},removeItem(e){if(String(e).length===0)throw new Error("Provide key for storage manager");et._removeProp(e)}},K4=({setIsLoading:e})=>{const[t,n]=ee.exports.useState([]),[r,i]=ee.exports.useState(0);return ee.exports.useEffect(()=>{e(!0);const s=ti(),o=wn(s,"levels"),l=wn(s,"games/"+et.getItem(At.currentGameId));br(o,u=>{const a=u.val();n(a),br(l,h=>{const c=h.val();i(c.currentLevelId),et.setItem(At.currentLevelId,c.currentLevelId),e(!1)})})},[]),E(rr,{children:t.map((s,o)=>E(Nd,{center:!0,size:"small",isActive:o===r,disabled:o>r,children:B0(s.price)},`key${o}`))})},Q4=()=>Ee("svg",{width:"16",height:"14",viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E("path",{d:"M0 1C0 0.447715 0.447715 0 1 0H15C15.5523 0 16 0.447715 16 1C16 1.55228 15.5523 2 15 2H1C0.447715 2 0 1.55228 0 1Z",fill:"#1C1C21"}),E("path",{d:"M0 7C0 6.44772 0.447715 6 1 6H15C15.5523 6 16 6.44772 16 7C16 7.55228 15.5523 8 15 8H1C0.447715 8 0 7.55228 0 7Z",fill:"#1C1C21"}),E("path",{d:"M1 12C0.447715 12 0 12.4477 0 13C0 13.5523 0.447715 14 1 14H15C15.5523 14 16 13.5523 16 13C16 12.4477 15.5523 12 15 12H1Z",fill:"#1C1C21"})]}),Y4=()=>E("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:E("path",{d:"M13.364 2.05025C13.7545 1.65972 13.7545 1.02656 13.364 0.636033C12.9734 0.245508 12.3403 0.245509 11.9497 0.636033L6.99999 5.58579L2.05026 0.636061C1.65974 0.245537 1.02657 0.245537 0.63605 0.636061C0.245526 1.02659 0.245526 1.65975 0.63605 2.05028L5.58577 7L0.636033 11.9497C0.245509 12.3403 0.245508 12.9734 0.636033 13.364C1.02656 13.7545 1.65972 13.7545 2.05025 13.364L6.99999 8.41421L11.9498 13.364C12.3403 13.7545 12.9734 13.7545 13.364 13.364C13.7545 12.9735 13.7545 12.3403 13.364 11.9498L8.4142 7L13.364 2.05025Z",fill:"#1C1C21"})}),q4=()=>{const[e,t]=ee.exports.useState(!1),[n,r]=ee.exports.useState(!1),i=zi({[_i.menuContainer]:!0,[_i.menuContainer_opened]:n}),s=()=>{r(!0)},o=()=>{r(!1)};return Ee(rr,{children:[E("div",{className:_i.burger,onClick:s,children:E(Q4,{})}),Ee("div",{className:i,children:[E("div",{className:_i.close,onClick:o,children:E(Y4,{})}),E("div",{className:_i.menu,children:e?E(V4,{}):E(K4,{setIsLoading:t})})]})]})},j0=(e=0,t=0)=>{if(e<t){let n=e;e=t,t=n}return Math.floor(Math.random()*(t-e)+e)},X4="_loadingContainer_i8118_1",J4="_loading_i8118_1",Gp={loadingContainer:X4,loading:J4},H0=ee.exports.createContext(void 0),xd=()=>ee.exports.useContext(H0),Z4=({children:e})=>{const[t,n]=ee.exports.useState(!1);return Ee(rr,{children:[t&&E("div",{className:Gp.loadingContainer,children:E("span",{className:Gp.loading})}),E(H0.Provider,{value:{isLoading:t,setIsLoading:n},children:e})]})};function eT(e){let t=e.length,n;for(;t!=0;)n=j0(0,t),t--,[e[t],e[n]]=[e[n],e[t]];return e}const b0=ee.exports.createContext(void 0),Rd=()=>ee.exports.useContext(b0),tT=({children:e})=>{const t=et.getItem(At.currentGameId)?"gameInProgress":"beforeStart",[n,r]=ee.exports.useState(t);return E(b0.Provider,{value:{status:n,setStatus:r},children:e})},nT=({answer:e,index:t,setIsAnswered:n,isAnswered:r})=>{const[i,s]=ee.exports.useState(!1),{setStatus:o}=Rd(),{setIsLoading:l}=xd(),u=ti(),a=()=>{var m;let c=(m=et.getItem(At.currentLevelId))!=null?m:12;const d=wn(u,"levels/"+c+"/price");br(d,async _=>{const v=_.val();e.isAnswer&&(c=c-1),n(!1),e.isAnswer&&await F0(wn(u,"games/"+et.getItem(At.currentGameId)),{currentLevelId:c,present:v}),e.isAnswer&&c>=0?et.setItem(At.currentLevelId,c):o("finish"),l(!1)})},h=()=>{l(!0),r||(e.isAnswer||s(!0),setTimeout(a,1e3),n(!0))};return E("div",{className:Ti.answer,children:E(Nd,{option:String.fromCharCode(t+65),onClick:h,isCorrect:r&&e.isAnswer,isWrong:i,children:e.answer})})},rT=()=>{const[e,t]=ee.exports.useState(),[n,r]=ee.exports.useState(!1),{setIsLoading:i}=xd();return ee.exports.useEffect(()=>{const s=ti(),o=wn(s,"games/"+et.getItem(At.currentGameId));i(!0),br(o,l=>{const u=l.val(),a=wn(s,"levels/"+(u.currentLevelId<0?0:u.currentLevelId)+"/questions");br(a,h=>{var _;const c=h.val(),d=j0(0,c==null?void 0:c.length),m={...c[d],answers:eT((_=c[d])==null?void 0:_.answers)};t(m),i(!1)})})},[]),Ee("div",{className:Ti.gameContainer,children:[E("main",{className:Ti.game,children:!!e&&Ee(rr,{children:[E("div",{className:Ti.question,children:E("h1",{children:e.question})}),E("div",{className:Ti.answers,children:e.answers.map((s,o)=>E(nT,{answer:s,index:o,isAnswered:n,setIsAnswered:r},s.answer))})]})}),E(q4,{})]})},iT="_background_1ywn4_1",sT="_container_1ywn4_12",oT="_main_1ywn4_16",lT="_image_1ywn4_29",uT="_startGameContainer_1ywn4_33",aT="_h1_1ywn4_39",cT="_h2_1ywn4_44",tn={background:iT,container:sT,main:oT,image:lT,startGameContainer:uT,h1:aT,h2:cT},hT=()=>Ee("svg",{width:"100%",viewBox:"0 0 453 357",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E("path",{d:"M348.483 206.523C355.09 182.842 360.375 158.792 364.339 134.523C368.377 125.329 372.928 116.357 377.92 107.679C384.086 97.0146 391.354 87.1596 398.107 76.8633C404.127 67.6701 409.559 57.5209 410.22 46.4156C410.734 37.7373 408.825 28.3971 403.026 21.6309C396.639 14.1293 386.802 11.1875 377.186 12.0701C366.762 12.9526 357.292 18.4685 349.217 24.8669C340.481 31.8537 332.333 39.7966 324.625 47.813C309.723 63.331 296.509 80.4669 285.131 98.7061C276.762 95.4701 268.687 91.5722 260.612 87.7479C248.867 82.1585 236.975 77.231 224.348 73.9214C201.812 68.0378 176.412 65.7579 154.316 74.4362C134.349 82.3056 117.538 100.251 117.245 122.608C117.098 131.434 119.667 139.156 123.925 145.922C114.822 150.923 107.114 158.057 102.343 167.471C97.4976 177.032 96.5433 188.725 100.507 198.727C101.976 202.405 104.031 205.714 106.527 208.656C99.1126 215.422 92.4324 224.027 89.3492 233.661C86.4128 242.781 88.1012 251.974 92.9462 260.137C94.341 262.417 95.956 264.55 97.7178 266.609C89.5694 273.743 86.9267 285.437 89.3492 295.88C92.1387 308.162 101.095 317.723 110.711 325.298C118.126 331.108 126.054 336.33 134.276 340.963C138.386 343.537 142.718 345.964 147.049 348.171C151.673 350.451 156.518 352.584 161.437 354.054C164.814 355.084 168.264 355.967 171.714 356.408C174.063 356.702 176.412 356.849 178.761 356.776C179.936 356.776 181.11 356.702 182.212 356.555C185.442 356.261 188.672 355.378 191.828 354.349C194.03 353.613 196.159 352.657 198.215 351.48C199.83 350.598 201.445 349.642 202.913 348.612C212.162 350.818 221.559 352.069 231.102 351.922C251.436 351.554 270.523 343.317 285.939 330.152C302.896 315.737 314.862 296.542 323.964 276.391C334.168 254.033 341.803 230.278 348.483 206.523Z",fill:"#EF9E81"}),E("path",{d:"M98.8768 268.978C112.93 278.037 127.498 286.36 142.434 293.8C149.791 297.482 157.296 301.018 164.948 304.112C172.526 307.205 180.325 309.857 188.419 311.477C195.924 312.95 204.09 313.687 211.669 312.214C216.378 311.33 221.454 310.151 225.501 307.5C227.929 305.953 229.989 303.964 231.902 301.828C233.594 299.913 235.36 297.851 236.611 295.641C238.598 292.032 239.701 287.981 240.143 283.93C241.393 273.691 238.083 263.085 229.842 256.603C228.665 255.646 227.34 254.762 226.016 254.025C224.986 253.436 224.103 254.983 225.06 255.646C229.842 258.445 233.668 262.422 236.022 267.504C238.009 271.776 238.745 276.638 238.524 281.352C238.303 285.403 237.494 289.454 235.802 293.137C235.066 294.757 234.109 296.23 233.006 297.63C231.019 300.208 228.812 302.638 226.31 304.701C222.779 307.573 218.438 308.826 214.097 309.857C206.886 311.624 199.308 311.403 192.024 310.299C176.279 307.868 161.49 301.092 147.29 294.168C132.722 287.097 118.522 279.216 104.836 270.598C103.144 269.567 101.526 268.462 99.8333 267.431C98.8032 266.768 97.8467 268.388 98.8768 268.978Z",fill:"#C4674E"}),E("path",{d:"M112.562 211.378C128.969 219.112 145.524 226.625 162.079 233.843C177.971 240.841 194.011 247.838 210.786 252.478C218.879 254.762 227.561 256.898 236.022 255.425C242.276 254.32 248.015 251.153 252.43 246.66C256.918 242.093 260.155 236.2 261.48 229.866C262.289 226.183 261.995 222.353 261.333 218.67C259.346 207.99 252.871 198.341 243.454 192.964C242.056 192.154 240.584 191.491 239.039 190.828C237.935 190.386 237.494 192.154 238.524 192.596C248.751 196.868 256.109 205.707 258.905 216.313C259.861 219.996 260.376 223.9 259.935 227.656C259.346 233.107 256.624 238.631 253.239 242.903C249.34 247.691 244.116 251.3 238.156 252.994C230.284 255.13 222.043 253.51 214.318 251.447C198.057 247.249 182.533 240.693 167.155 233.991C151.116 226.993 135.223 219.849 119.331 212.483C117.344 211.525 115.358 210.642 113.371 209.684C112.415 209.316 111.532 210.936 112.562 211.378Z",fill:"#C4674E"}),E("path",{d:"M129.852 148.991C148.467 156.725 166.493 165.785 184.814 173.961C193.863 178.012 203.06 181.842 212.405 185.23C221.896 188.692 231.755 192.08 241.835 193.185C250.59 194.216 259.935 193.038 267.366 187.882C270.75 185.525 273.62 182.431 275.459 178.749C277.372 174.992 278.255 170.72 278.181 166.522C278.181 157.83 274.282 149.802 268.543 143.394C262.289 136.396 254.049 131.535 245.514 127.778C238.23 124.538 230.725 121.886 223.294 119.013C216.01 116.214 208.873 113.268 201.81 110.027C199.529 108.996 197.248 107.965 194.967 106.86C193.937 106.344 192.98 107.965 194.011 108.48C201.662 112.016 209.388 115.404 217.187 118.571C223.735 121.149 230.284 123.654 236.832 126.158C245.587 129.546 254.343 133.45 261.7 139.416C268.175 144.719 273.693 151.79 275.606 160.04C277.519 168.142 275.827 177.275 269.867 183.315C263.908 189.355 255.152 191.712 246.838 191.565C236.832 191.417 226.973 188.177 217.628 185.009C208.284 181.842 199.161 178.159 190.185 174.255C172.232 166.448 154.721 157.609 136.695 149.875C134.561 148.918 132.354 148.034 130.22 147.15C129.264 146.708 128.749 148.549 129.852 148.991Z",fill:"#C4674E"}),E("path",{d:"M204.458 344.991C207.181 339.393 208.284 332.985 207.549 326.797C207.181 323.778 206.445 320.758 205.268 317.885C204.238 315.381 202.913 312.066 200.117 311.182C199.014 310.814 198.499 312.582 199.602 312.95C200.853 313.318 201.589 314.571 202.178 315.675C202.84 316.928 203.428 318.18 203.943 319.505C204.9 322.157 205.562 324.882 205.783 327.681C206.298 333.279 205.268 338.951 202.84 344.033C202.325 345.138 203.943 346.095 204.458 344.991Z",fill:"#C4674E"}),E("path",{d:"M234.477 179.043C234.845 167.7 239.775 156.725 247.942 148.918C248.825 148.107 247.5 146.782 246.617 147.592C238.082 155.768 233.006 167.184 232.564 178.969C232.638 180.222 234.477 180.222 234.477 179.043Z",fill:"#C4674E"}),E("path",{d:"M245.072 151.422C249.193 152.601 253.313 154 257.065 156.136C260.082 157.83 262.878 160.335 263.466 163.944C264.055 167.479 262.436 171.088 259.861 173.445C257.139 176.023 253.313 177.202 249.634 177.496C244.557 177.865 239.554 176.465 234.698 175.066C233.594 174.771 233.079 176.539 234.183 176.834C242.718 179.338 252.945 181.474 260.523 175.287C263.466 172.856 265.453 169.1 265.379 165.196C265.379 161.145 263.025 157.904 259.861 155.694C257.948 154.368 255.814 153.337 253.681 152.453C251.032 151.348 248.31 150.391 245.514 149.581C244.41 149.286 243.969 151.054 245.072 151.422Z",fill:"#C4674E"}),E("path",{d:"M212.037 237.526C212.405 225.373 217.702 213.662 226.458 205.265C227.341 204.455 226.016 203.129 225.133 203.939C216.01 212.63 210.565 224.857 210.124 237.526C210.124 238.705 211.963 238.705 212.037 237.526Z",fill:"#C4674E"}),E("path",{d:"M223.441 207.916C227.782 209.168 232.196 210.715 236.17 212.925C239.48 214.766 242.571 217.491 243.159 221.469C243.674 225.225 241.982 229.056 239.26 231.56C236.243 234.359 232.123 235.611 228.15 235.906C222.705 236.274 217.408 234.801 212.257 233.328C211.154 233.033 210.639 234.801 211.742 235.095C220.719 237.747 231.608 240.03 239.628 233.622C242.865 231.044 244.999 226.993 244.999 222.795C244.999 218.449 242.424 214.987 239.039 212.557C236.979 211.083 234.698 210.052 232.417 209.095C229.621 207.916 226.752 206.885 223.882 206.075C222.779 205.78 222.264 207.548 223.441 207.916Z",fill:"#C4674E"}),E("path",{d:"M192.171 296.82C192.539 284.666 197.837 272.955 206.592 264.558C207.475 263.748 206.151 262.422 205.268 263.232C196.144 271.924 190.7 284.151 190.258 296.82C190.258 297.998 192.098 297.998 192.171 296.82Z",fill:"#C4674E"}),E("path",{d:"M203.576 267.136C207.917 268.388 212.331 269.935 216.304 272.145C219.615 273.986 222.705 276.711 223.294 280.689C223.809 284.445 222.117 288.275 219.394 290.78C216.378 293.579 212.258 294.831 208.284 295.125C202.84 295.494 197.542 294.021 192.392 292.547C191.288 292.253 190.773 294.021 191.877 294.315C200.853 296.967 211.742 299.25 219.762 292.842C223 290.264 225.133 286.213 225.133 282.015C225.133 277.669 222.558 274.207 219.174 271.776C217.114 270.303 214.833 269.272 212.552 268.314C209.756 267.136 206.886 266.105 204.017 265.295C202.913 265 202.398 266.841 203.576 267.136Z",fill:"#C4674E"}),E("path",{d:"M168.553 341.529C168.847 332.395 172.821 323.557 179.442 317.222C180.325 316.412 179.001 315.086 178.118 315.896C171.128 322.525 167.008 331.88 166.714 341.455C166.714 342.707 168.553 342.707 168.553 341.529Z",fill:"#C4674E"}),E("path",{d:"M176.941 319.284C180.178 320.242 183.489 321.347 186.432 323.041C188.86 324.44 191.215 326.429 191.656 329.375C192.098 332.174 190.773 335.121 188.713 336.962C186.432 339.024 183.342 339.908 180.399 340.129C176.352 340.35 172.453 339.319 168.553 338.14C167.45 337.846 166.935 339.614 168.038 339.908C174.954 341.897 183.268 343.665 189.375 338.73C191.877 336.741 193.495 333.647 193.495 330.407C193.495 327.092 191.583 324.367 188.934 322.452C185.549 320.021 181.282 318.622 177.309 317.517C176.279 317.148 175.837 318.916 176.941 319.284Z",fill:"#C4674E"}),E("path",{d:"M400.832 262.864L394.726 241.872L389.06 262.864L368.753 269.566L389.06 276.416L394.726 299.176L401.127 276.564L420.698 269.566L400.832 262.864Z",fill:"#FFD62A"}),E("path",{d:"M62.898 101.336L56.9384 80.7857L51.3466 101.262L31.4811 107.891L51.3466 114.52L56.9384 136.838L63.1923 114.668L82.3956 107.891L62.898 101.336Z",fill:"#FFD62A"}),E("path",{d:"M440.416 208.874L436.737 196.205L433.279 208.874L421.066 212.851L433.279 216.976L436.737 230.75L440.563 217.123L452.409 212.851L440.416 208.874Z",fill:"#FFD62A"}),E("path",{d:"M19.7826 169.467L16.1774 157.093L12.7929 169.467L0.799988 173.445L12.7929 177.422L16.1774 190.901L19.9297 177.496L31.4812 173.445L19.7826 169.467Z",fill:"#FFD62A"}),E("path",{d:"M252.136 10.4439L249.192 0.205673L246.397 10.4439L236.537 13.6848L246.397 16.9993L249.192 28.1214L252.283 17.0729L261.848 13.6848L252.136 10.4439Z",fill:"#FFD62A"}),E("path",{d:"M59.8814 326.503L56.9384 316.264L54.1425 326.503L44.2833 329.817L54.1425 333.132L56.9384 344.18L60.0286 333.205L69.5934 329.817L59.8814 326.503Z",fill:"#FFD62A"})]}),dT="_button_11p13_1",fT="_button_loading_11p13_24",Kp={button:dT,button_loading:fT},W0=({children:e,onClick:t,isLoading:n})=>{const r=zi({[Kp.button]:!0,[Kp.button_loading]:n});return E("button",{className:r,onClick:()=>{n||t()},children:e})},pT=({startHandler:e,isLoading:t})=>Ee(rr,{children:[E("h1",{className:tn.h1,children:"Who wants to be a millionaire?"}),E(W0,{onClick:e,isLoading:t,children:"Start"})]}),gT=({startHandler:e,setIsLoading:t,isLoading:n})=>{const[r]=ee.exports.useState(et.getItem(At.currentGameId)),[i,s]=ee.exports.useState("");return ee.exports.useEffect(()=>{t(!0);const o=ti(),l=wn(o,"games/"+r+"/present");br(l,u=>{et.removeItem(At.currentGameId);const a=u==null?void 0:u.val();s(B0(a)),t(!1)})},[]),Ee(rr,{children:[E("h2",{className:tn.h2,children:"Total score:"}),E("h1",{className:tn.h1,children:i}),E(W0,{onClick:e,isLoading:n,children:"Try again"})]})},mT=()=>{const{setStatus:e,status:t}=Rd(),{isLoading:n,setIsLoading:r}=xd(),i=()=>{const s=ti(),o=new Date;r(!0),F0(wn(s,"games/"+Date.parse(o.toString())),{id:o,currentLevelId:11,present:0}).then(()=>{et.setItem(At.currentGameId,Date.parse(o.toString())),e("gameInProgress"),r(!1)})};return Ee("div",{className:tn.container,children:[E("svg",{className:tn.background,viewBox:"0 0 1440 900",fill:"none",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:E("path",{d:"M1440 0V900H0L1440 0Z"})}),Ee("main",{className:tn.main,children:[E("div",{className:tn.image,children:E(hT,{})}),Ee("div",{className:tn.startGameContainer,children:[t==="beforeStart"&&E(pT,{startHandler:i,isLoading:n}),t==="finish"&&E(gT,{startHandler:i,setIsLoading:r,isLoading:n})]})]})]})};function _T(){const{status:e}=Rd();return Ee(v4,{children:[(e==="beforeStart"||e==="finish")&&E(mT,{}),e==="gameInProgress"&&E(rT,{})]})}Zu.createRoot(document.getElementById("root")).render(E(uv.StrictMode,{children:E(Z4,{children:E(tT,{children:E(_T,{})})})}));
